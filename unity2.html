<html><head>
<link rel="shortcut icon" href="sepeli2.ico" />
<link rel="stylesheet" href="test2.css">
<div class="dropdown">
  <button class="dropbtn">Blender</button>
  <div class="dropdown-content">
    <a href="blender1.html">Blender alkeet</a>
    <a href="blender2.html">Blender animointi</a>
    <a href="blender3.html">Blender sculptaus</a>
    <a href="blender4.html">Blender game, drift</a>
  </div>
</div>
<div class="dropdown">
  <button class="dropbtn">Construct 3</button>
  <div class="dropdown-content">
    <a href="construct1.html">Construct 3: luo ensimm√§inen pelisi!</a>
  </div>
</div>
<div class="dropdown">
  <button class="dropbtn">Unity</button>
  <div class="dropdown-content">
    <a href="unity1.html">1 person tasohyppely</a>
    <a href="unity2.html">2D infinite runner</a>
  </div>
</div>
<div class="dropdown">
  <button class="dropbtn">C#</button>
  <div class="dropdown-content">
    <a href="c.html">C#</a>
  </div>
</div>
<div class="dropdown">
  <button class="dropbtn">Sepeli</button>
  <div class="dropdown-content">
    <a href="sepeli.html">Tietoja</a>
  </div>
</div>
<script src="tes2.js" type="text/javascript" onload = "alku()">></script>
<meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c13{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:451.4pt;border-top-color:#000000;border-bottom-style:solid}.c5{color:#38761d;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c15{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c22{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Arial";font-style:normal}.c21{color:#000000;font-weight:400;text-decoration:none;vertical-align:sub;font-size:11pt;font-family:"Arial";font-style:normal}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c16{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c14{font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c24{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c23{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;text-align:center}.c19{border-spacing:0;border-collapse:collapse;margin-right:auto}.c25{background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c8{background-color:#ffe599;color:#1155cc}.c12{color:#3c78d8}.c20{color:#6d9eeb}.c7{height:11pt}.c0{font-weight:700}.c17{color:#38761d}.c18{height:0pt}.c11{background-color:#ffe599}.c10{color:#1155cc}.c9{color:#e06666}.c6{margin-left:72pt}.c3{margin-left:36pt}.c2{text-indent:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c25"><p class="c23 title" id="h.vr6f4smx5mam"><span class="c22">&nbsp;Unity 2: infinite 2D scroller</span></p><p class="c1"><span>Seuraava peli jonka teemme, on infinite 2D scroller. Eli teemme ns. loppumattoman pelin, joka jatkuu niin pitk&auml;&auml;n kuin pelaaja pystyy sit&auml; pelaamaan. Mit&auml; meid&auml;n pit&auml;&auml; etuk&auml;teen tehd&auml; on 2D spriteja joita k&auml;yt&auml;mme pelin animaatioissa. Tarvitsemme siis </span><span class="c0">juoksuanimaation</span><span>, </span><span class="c0">hyppyanimaation</span><span>, sek&auml; </span><span class="c0">liukuanimaation</span><span>, sek&auml; jos haluatte, </span><span class="c0">kuolemisanimaation</span><span>. Lis&auml;ksi tarvitsemme jonkin </span><span class="c0">ker&auml;tt&auml;v&auml;n asian, </span><span>sek&auml; </span><span class="c0">lent&auml;v&auml;n vihollisen. </span><span class="c4">N&auml;m&auml; kaikki ovat l&ouml;ydett&auml;viss&auml; my&ouml;s ohjaajien tekem&auml;n&auml; Google Classroomista oppimateriaaleistamme. </span></p><p class="c1 c7"><span class="c4"></span></p><h1 class="c24" id="h.qq7j0sseoln3"><span class="c15">Sanasto</span></h1><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Sprite=2D kuva, joista luodaan animaatioita.</span></p><p class="c1 c7"><span class="c4"></span></p><h1 class="c24" id="h.cmdfprmccoqw"><span class="c15">Materiaalit</span></h1><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Jos haluatte ladata valmiit spritet, menk&auml;&auml; classroom.google.com, ja avatkaa </span><span class="c0">TIETOJA</span><span>&nbsp;v&auml;lilehti, ja avatkaa sielt&auml; sellainen kohta kuin </span><span class="c0">spritet</span><span>. Teille pit&auml;isi avautua uusi v&auml;lilehti jossa on lista asioista joita </span><span class="c0">spritet</span><span>-tiedostosta l&ouml;ytyy. Painakaa oikeasta yl&auml;kulmasta alasnuolta </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 46.00px; height: 43.00px;"><img alt="" src="unity2/images/image7.png" style="width: 46.00px; height: 43.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span>&nbsp;ladataksenne tiedostot. Menk&auml;&auml; sitten tietokoneenne </span><span class="c0">ladatut tiedostot</span><span>-kansioon, ja etsik&auml;&auml; juuri lataamamme </span><span class="c0">spritet</span><span>&nbsp;tiedosto. Painakaa siit&auml; hiiren oikealla, ja valitkaa </span><span class="c0">pura kaikki.</span><span>&nbsp;T&auml;m&auml;n j&auml;lkeen painakaa vain </span><span class="c0">pura</span><span>&nbsp;ilmestyneest&auml; valikosta. Nyt teille pit&auml;isi avautua kansio jossa on </span><span class="c0">spritet</span><span class="c4">&nbsp;kansio, jossa on kaikki tarvitsemamme spritet omissa kansioissaan.</span></p><p class="c1 c7"><span class="c4"></span></p><h1 class="c24" id="h.hik0t87joubf"><span class="c15">Projektin luominen</span></h1><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Avataan Unity, ja luodaan uusi projekti. Voimme antaa sille mink&auml; nimen haluamme, mutta ohjeissa sille annetaan nimeksi </span><span class="c0">Infinite Scroller</span><span>. Painakaa my&ouml;s oikealta </span><span class="c0">2D</span><span>&nbsp;kohta p&auml;&auml;lle, koska teemme 2D peli&auml; 3D pelin sijaan. Sitten vain </span><span class="c0">Create Project</span><span class="c4">.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 332.00px;"><img alt="" src="unity2/images/image13.png" style="width: 601.70px; height: 332.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Kun projektimme on auki, se n&auml;ytt&auml;&auml; hieman erillaiselta kuin mit&auml; olemme aijemmin n&auml;hneet. Esimerkiksi jos liikumme </span><span class="c0">Scene</span><span class="c4">&nbsp;n&auml;kym&auml;ss&auml;, pystymme liikkumaan vain yl&ouml;s ja alas sek&auml; sivuttain. T&auml;m&auml; johtuu siit&auml; ett&auml; teemme 2D-peli&auml;, joten meid&auml;n ei tarvitse edes n&auml;hd&auml; maailmaa 3D n&auml;kym&auml;ss&auml;, joten Unity antaa meid&auml;n liikkua vain 2D-n&auml;kym&auml;ss&auml;.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Jos katsomme </span><span class="c0">Hierarchy</span><span class="c4">&nbsp;n&auml;kym&auml;&auml;n vasemmalla, huomaamme ettei meill&auml; ole sceness&auml; my&ouml;sk&auml;&auml;n valoa, ainoastaan kamera. T&auml;m&auml; johtuu siit&auml; ett&auml; 2D-peleiss&auml; k&auml;yt&auml;mme spriteja, joihin valo ei vaikuta ollenkaan, vaan ne ovat aina saman n&auml;k&ouml;isi&auml; valosta huolimatta. valonl&auml;hde olisi siis turha, joten Unity ei edes lis&auml;&auml; sit&auml; scenen alussa peliin. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">My&ouml;s kamera toimii hieman eri tavalla kuin 3D projektissa, mutta en mene siit&auml; sen enemp&auml;&auml; yksityiskohtiin.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Siirret&auml;&auml;n aivan aluksi spritemme projektiin. Jos meill&auml; on auki kansio, jossa on spritet kansio, otetaan kansiosta hiiren vasemmalla kiinni, ja vedet&auml;&auml;n se </span><span class="c0">Project</span><span class="c4">&nbsp;n&auml;kym&auml;&auml;n joka on unityn alhaalla.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 254.67px;"><img alt="" src="unity2/images/image24.gif" style="width: 601.70px; height: 254.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c16 c0"></span></p><p class="c1"><span class="c4">nyt kaikki kuvamme ovat k&auml;ytt&ouml;valmiita unityssa, joten voimme luoda ensimm&auml;isen animaation. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Paina aivan ylh&auml;&auml;lt&auml; </span><span class="c0">Window</span><span>&nbsp;kohtaa, ja paina auenneesta valikosta </span><span class="c0">Animation. </span><span>T&auml;m&auml; avaa meille uudenlaisen n&auml;kym&auml;n. Se avaa se kuitenkin eri ikkunalle, ja nyt ne menev&auml;t p&auml;&auml;llekk&auml;in mik&auml; ei ole hyv&auml;. Otetaan n&auml;kym&auml;st&auml; </span><span class="c0">Animation</span><span>-sanasta kiinni, ja vedet&auml;&auml;n se </span><span class="c0">Scene, Asset Store, </span><span>ja </span><span class="c0">Game</span><span class="c4">&nbsp;sanan per&auml;&auml;n. Nyt se k&auml;ytt&auml;&auml; hy&ouml;dyksi samaa ikkunaa kuin nekin.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 270.67px;"><img alt="" src="unity2/images/image9.gif" style="width: 601.70px; height: 270.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c16 c0"></span></p><p class="c1"><span class="c4">T&auml;ss&auml; ikkunassa voimme rakentaa 2D-animaatioita aijemmin tehdyist&auml; kuvista. N&auml;m&auml; kuvat voidaan tehd&auml; miss&auml; tahansa kuvan muokkaus ohjelmassa, tai niinkuin me olemme tehneet, Blenderin 3D-mallista Render&ouml;im&auml;ll&auml;. Luomme animaatioit vain asettamalla kuvat aikajanalle, mutta meid&auml;n on ensin luotava objekti johon animaation rakennamme.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>&nbsp;Avataan </span><span class="c0">Project</span><span>&nbsp;n&auml;kym&auml;ss&auml; </span><span class="c0">spritet</span><span>&nbsp;kansio, ja sielt&auml; </span><span class="c0">juoksu</span><span>&nbsp;kansio. T&auml;ss&auml; n&auml;emme kaikki juoksu-animaatioon tarvittavat kuvat. Otetaan kiinni ensimm&auml;isest&auml; kuvasta nimelt&auml;&auml;n </span><span class="c0">0001</span><span>, ja vedet&auml;&auml;n se </span><span class="c0">Hierarchy-</span><span class="c4">n&auml;kym&auml;&auml;n.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 401.33px;"><img alt="" src="unity2/images/image18.gif" style="width: 601.70px; height: 401.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Nyt </span><span class="c0">Animation</span><span>-n&auml;kym&auml; ehdottaa animaation luomista, ja antaa napin </span><span class="c0">Create</span><span>. Painetaan siit&auml;, ja se haluaa meid&auml;n luovan uuden tiedoston. Annetaan tiedostolle nimeksi </span><span class="c0">Juoksu</span><span>, ja painetaan </span><span class="c16 c0">save.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 332.00px;"><img alt="" src="unity2/images/image27.gif" style="width: 601.70px; height: 332.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Nyt olemme luoneet uuden animaation, mutta siin&auml; ei ole viel&auml; mit&auml;&auml;n. Luomme animaation helpoiten valitsemalla kaikki kuvat, ja vet&auml;m&auml;ll&auml; ne samalla kertaa aikajanalle. Valitaan siis kaikki kuvat valitsemalla ensimm&auml;inen kuva hiiren vasemmalla, ja </span><span class="c0">shift</span><span>&nbsp;pohjassa painamalla viimeist&auml; kuvaa. T&auml;m&auml; valitsee kaikki tiedostot n&auml;iden kahden v&auml;lill&auml;. Meill&auml; on kuitenkin yksi tiedosto joka ei ole kuva, nimelt&auml;&auml;n 0001. Pidet&auml;&auml;n </span><span class="c0">Ctrl</span><span>&nbsp;pohjassa, ja painetaan t&auml;st&auml; 0001, niin sen valinta poistuu. Painetaan hiiren vasen nappi sitten pohjaan kuvien p&auml;&auml;ll&auml; ja vedet&auml;&auml;n kaikki kuvat </span><span class="c0">Animation</span><span class="c4">-n&auml;kym&auml;n aikajanalle. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 418.67px;"><img alt="" src="unity2/images/image16.gif" style="width: 601.70px; height: 418.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Unity asettaa kaikki kuvat framen v&auml;lein aikajanalle ja oikeaan j&auml;rjestykseen. Nyt jos kokeilemme peli&auml; painamalla oikeaa nuolta aivan yl&auml;reunasta, n&auml;emme miten hahmomme juoksee peliss&auml;. Painetaan nuolesta uudestaan niin p&auml;&auml;semme pois testist&auml;.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Tehd&auml;&auml;n sama mit&auml; tehtiin edellisess&auml;kin peliss&auml;, ja liitet&auml;&auml;n kamera pelihahmoomme. T&auml;m&auml; onnistui ottamalla hiiren vasemmalla kiinni kamerasta Hierarchyssa, ja vet&auml;m&auml;ll&auml; se pelihahmon nimen p&auml;&auml;lle. T&auml;ll&ouml;in kamerasta tulee pelihahmon lapsi, ja se liikkuu samoin kuin pelihahmommekin.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 400.00px; height: 540.00px;"><img alt="" src="unity2/images/image10.gif" style="width: 400.00px; height: 540.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Valitaan seuraavaksi pelihahmomme painamalla sen nimest&auml;. Painetaan oikealta alhaalta </span><span class="c0">Add Component</span><span>, ja valitaan siit&auml; avautuneesta valikosta </span><span class="c0">Physics 2D, </span><span>ja</span><span class="c0">&nbsp;Box Collider 2D</span><span class="c4">. N&auml;in lis&auml;&auml;mme pelihahmollemme neli&ouml;n 2D Colliderin. T&auml;st&auml; tulee pelihahmomme hitboxi, eli mihin kaikki asiat pelihahmoomme t&ouml;rm&auml;&auml;v&auml;t.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Oikealla n&auml;emme </span><span class="c0">Box Collider 2D</span><span>-komponentin tiedot. Muutetaan t&auml;&auml;ll&auml; </span><span class="c0">Size</span><span>-arvoja siten ett&auml; ne ovat juuri hahmon kokoiset. T&auml;ll&auml; hetkell&auml; ne ovat nimitt&auml;in liian isot. Arvojen muuttaminen toimii painamalla arvosta ja kirjoittamalla jokin toinen arvo, tai ottamalla hiiren vasemmalla kiinni joko </span><span class="c0">X</span><span>&nbsp;tai </span><span class="c0">Y</span><span class="c4">&nbsp;kohdasta ja vet&auml;m&auml;ll&auml; se joko oikealle tai vasemmalle.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 302.67px;"><img alt="" src="unity2/images/image1.gif" style="width: 601.70px; height: 302.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Lis&auml;t&auml;&auml;n sitten pelihahmoomme my&ouml;s painovoima, ja t&auml;m&auml;h&auml;n onnistui lis&auml;&auml;m&auml;ll&auml; </span><span class="c0">Rigidbody</span><span>&nbsp;komponentti objektiimme. Eli valitaan taas </span><span class="c0">Add Component</span><span>, </span><span class="c0">Physics 2D </span><span>ja t&auml;ll&auml; kertaa </span><span class="c0">Rigidbody 2D</span><span class="c4">&nbsp;joka on ylin vaihtoehto.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Muutetaan kopmonenttia taas samoin kuin aijemmassakin peliss&auml;, eli avataan </span><span class="c0">Constraints</span><span>&nbsp;kohta </span><span class="c0">Rigidbody 2D</span><span>:n valikosta, ja painetaan </span><span class="c0">Freeze Rotation </span><span class="c4">p&auml;&auml;lle. Nyt hahmomme ei voi kaatua kumoon.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 546.00px; height: 913.00px;"><img alt="" src="unity2/images/image22.gif" style="width: 546.00px; height: 913.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c16 c0"></span></p><p class="c1"><span>Lis&auml;t&auml;&auml;n seuraavaksi ns. maa peliimme. K&auml;ytt&auml;k&auml;&auml; itse tekem&auml;&auml;nne maata, tai etsik&auml;&auml; </span><span class="c0">Project</span><span>&nbsp;n&auml;kym&auml;st&auml; sellainen kuva kuin </span><span class="c0">talo</span><span>. Otetaan kuvasta kiinni, ja vedet&auml;&auml;n se </span><span class="c0">Hierarchyyn.</span><span>&nbsp;Kuva menee automaattisesti keskelle Scene&auml;, joten painetaan </span><span class="c0">W</span><span>, ja vedet&auml;&auml;n vihre&auml;st&auml; nuolesta taloa alasp&auml;in, ett&auml; se olisi juuri pelaajahahmon ala puolella. Voimme my&ouml;s suurentaa tai pienent&auml;&auml; taloa oman maun mukaan. T&auml;m&auml; onnistui painamalla </span><span class="c0">R</span><span class="c4">, ja sitten vet&auml;m&auml;ll&auml; valkoisesta neli&ouml;st&auml; objektin keskell&auml;.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 426.67px;"><img alt="" src="unity2/images/image23.gif" style="width: 601.70px; height: 426.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Lis&auml;t&auml;&auml;n sitten my&ouml;s taloon </span><span class="c0">Box Collider 2D </span><span>samalla tavoin kuin pelaajahahmoommekin, eli </span><span class="c0">Add Component</span><span>, </span><span class="c0">Physics 2D </span><span>&nbsp;ja sitten </span><span class="c0">Box Collider 2D.</span><span class="c4">&nbsp;</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Nyt jos kokeilemme peli&auml;, n&auml;ytt&auml;&auml; silt&auml; kuin pelaaja juoksisi talon p&auml;&auml;ll&auml;, mutta se pysyy viel&auml; paikallaan. Tehd&auml;&auml;n t&auml;m&auml; siis seuraavaksi koodissa. Eli painetaan </span><span class="c0">Project</span><span>&nbsp;n&auml;kym&auml;&auml; hiiren oikealla, painetaan </span><span class="c0">Create</span><span>, ja valitaan </span><span class="c0">C# script</span><span>, ja annetaan tiedostolle nimeksi vaikkapa </span><span class="c0">liike</span><span>, mutta voitte nimet&auml; sen kyll&auml; miksi ikin&auml; haluatte. Otetaan Scriptist&auml; kiinni hiiren vasemmalla ja vedet&auml;&auml;n se </span><span class="c0">Hierarchy-</span><span>n&auml;kym&auml;&auml;n pelaajahahmomme nimen p&auml;&auml;lle. N&auml;in olemme lis&auml;nneet Scriptin peliobjektiin. Avataan Scripti sitten kaksoiklikkaamalla siit&auml; </span><span class="c0">Project</span><span class="c4">-n&auml;kym&auml;ss&auml;.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 302.67px;"><img alt="" src="unity2/images/image5.gif" style="width: 601.70px; height: 302.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Kirjoitetaan Scriptiin n&auml;in:</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1 c7"><span class="c4"></span></p><a id="t.c800dd9e111403ea0aca880f0ba1656da149f516"></a><a id="t.0"></a><table class="c19"><tbody><tr class="c18"><td class="c13" colspan="1" rowspan="1"><p class="c1"><span class="c5">//N&auml;m&auml; 3 rivi&auml; ovat koodissa jo valmiina</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;System.Collections;</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;System.Collections.Generic;</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;UnityEngine;</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c5">//T&auml;m&auml;kin on koodissasi jo valmiina, ja &quot;liike&quot; sanan tilalla pit&auml;isi olla scriptisi nimi. Jos ei ole, niin kirjoita se siihen.</span></p><p class="c1"><span class="c10">public class</span><span>&nbsp;</span><span class="c20">liike</span><span>&nbsp;: </span><span class="c20">MonoBehaviour</span><span class="c4">&nbsp;{</span></p><p class="c1 c2"><span class="c5">//luodaan t&auml;m&auml;n j&auml;lkeen kaikki muuttujat</span></p><p class="c1 c2"><span class="c10">float</span><span class="c4">&nbsp;nopeus = 0.01f;</span></p><p class="c1 c7"><span class="c14 c20"></span></p><p class="c1 c2"><span class="c5">//T&auml;m&auml; tapahtuu joka frame, t&auml;h&auml;n kannattaa laittaa kaikki liikkuminen</span></p><p class="c1 c2"><span class="c10">void</span><span class="c4">&nbsp;FixedUpdate()</span></p><p class="c1 c2"><span class="c4">{</span></p><p class="c1 c3 c2"><span class="c5">//liikutetaan pelihahmoamme oikealle</span></p><p class="c1 c3 c2"><span>transform.position += </span><span class="c10">Vector3</span><span class="c4">.right * nopeus;</span></p><p class="c1 c3 c2"><span class="c5">//suurennetaan nopeus arvoa, ett&auml; pelihahmo nopeutuu pelin edetess&auml; koko ajan hieman</span></p><p class="c1 c3 c2"><span class="c4">nopeus += 0.0001f;</span></p><p class="c1 c3"><span class="c4">}</span></p><p class="c1"><span class="c4">}</span></p></td></tr></tbody></table><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Mit&auml; teemme, niin luomme float muuttujan nimelt&auml;&auml;n </span><span class="c0">nopeus,</span><span>&nbsp;ja annamme sille arvon. Sitten </span><span class="c0">FixedUpdate</span><span>:n aaltosulkeiden sis&auml;ll&auml; siirr&auml;mme pelihahmoamme, ja kasvatamme nopeutta hieman, ett&auml; peli hahmomme liike nopeutuisi koko pelin ajan hieman suuremmaksi. T&auml;m&auml; tekee pelist&auml; vaikeamman mit&auml; pidemm&auml;lle menn&auml;&auml;n. Tallennetaan </span><span class="c0">CTRL+S</span><span class="c4">&nbsp;n&auml;pp&auml;inyhdistelm&auml;ll&auml; ja kokeillaan peli. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Luodaan seuraavaksi peliin liukuminen. Aloitetaan t&auml;m&auml; luomalla uusi animaatio. T&auml;m&auml; onnistuu valitsemalla pelaajaobjektimme, ja menem&auml;ll&auml; </span><span class="c0">Animation</span><span>&nbsp;n&auml;kym&auml;&auml;n painamalla siit&auml;. N&auml;emme </span><span class="c0">Animation</span><span>&nbsp;n&auml;kym&auml;n vasemmassa yl&auml;kulmassa ensimm&auml;isen animaatiomme nimen, t&auml;ss&auml; tilanteessa </span><span class="c0">juoksu</span><span>. Painetaan siit&auml;, ja meille aukeaa valikko kaikista luomistamme animaatioista, joita on t&auml;ll&auml; hetkell&auml; vain yksi. Listan alimpana on my&ouml;s vaihtoehto </span><span class="c0">Create New Clip</span><span>. Painetaan siit&auml;, ja annetaan uudelle animaatiollemme nimi. Esimerkiss&auml; annamme nimen </span><span class="c0">liukuu</span><span>. Animaatio kannattaa tallentaa samaan kansioon kuin animaation kuvat, eli t&auml;ll&auml; kertaa </span><span class="c0">liukuu</span><span class="c4">&nbsp;kansioon.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 240.00px;"><img alt="" src="unity2/images/image12.gif" style="width: 601.70px; height: 240.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Nyt </span><span class="c0">Animation</span><span>-n&auml;kym&auml;n tulisi n&auml;ytt&auml;&auml; tyhj&auml;lt&auml;, koska kyseess&auml; on uusi animaatio. Etsit&auml;&auml;n </span><span class="c0">Project-</span><span>n&auml;kym&auml;st&auml; sellainen kansio kuin liuku, jossa tulisi olla vain yksi kuva. T&auml;m&auml; on vaatimaton liukumisanimaatiomme. Painetaan kuvasta hiiren vasemmalla, pidet&auml;&auml;n se pohjassa ja vedet&auml;&auml;n kuva </span><span class="c0">Animation</span><span class="c4">-n&auml;kym&auml;n aikajanalle. T&auml;ss&auml; on uusi animaatiomme. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 413.33px;"><img alt="" src="unity2/images/image14.gif" style="width: 601.70px; height: 413.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Painetaan yl&auml;palkista </span><span class="c0">Window</span><span>, ja valitaan t&auml;ll&auml; kertaa </span><span class="c0">Animator</span><span>-kohta. Meille tulee taas uudenlainen n&auml;kym&auml; esille. T&auml;m&auml; on valmiiksi samassa ikkunassa kuin </span><span class="c0">Animation</span><span class="c4">, ja l&ouml;ytyykin sen vierest&auml;.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>katsotaan </span><span class="c0">Animator</span><span class="c4">-n&auml;kym&auml;&auml; hieman tarkemmin. Sen tulisi n&auml;ytt&auml;&auml; t&auml;ll&auml; hetkell&auml; jokseenkin t&auml;llaiselta:</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 326.67px;"><img alt="" src="unity2/images/image8.png" style="width: 601.70px; height: 326.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Jos </span><span class="c0">Animator</span><span class="c4">&nbsp;ei n&auml;yt&auml; samalta kuin kuvassa, valitkaa pelaajaobjektimme vasemmalta listasta.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c0">Animator</span><span class="c4">&nbsp;on graafinen n&auml;kym&auml; jolla m&auml;&auml;r&auml;&auml;mme miten luomiamme animaatioita py&ouml;ritet&auml;&auml;n peliss&auml;. Toisin sanoen, voimme vet&auml;&auml; t&auml;&auml;ll&auml; nuolia animaatioista toisiin, ja peli ymm&auml;rt&auml;&auml; siirty&auml; siihen. Voimme antaa my&ouml;s ehtoja milloin toiseen animaatioon tulisi siirty&auml;. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>T&auml;ll&auml; hetkell&auml; pit&auml;isi t&auml;&auml;ll&auml; n&auml;ky&auml; nelj&auml; eri laatikkoa jotka ovat </span><span class="c0">Entry, Any State, Juoksu </span><span>ja </span><span class="c0">Liuku</span><span>, sek&auml; yksi nuoli joka menee </span><span class="c0">Entry</span><span>-kohdasta </span><span class="c0">Juoksu</span><span>-kohtaan. T&auml;m&auml; tarkoittaa sit&auml;, ett&auml; pelin alussa menee peli heti py&ouml;ritt&auml;m&auml;&auml;n </span><span class="c0">Juoksu</span><span class="c4">-animaatiota.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Painetaan hiiren oikealla </span><span class="c0">Juoksu</span><span>-kohdan p&auml;&auml;lt&auml;, ja valitaan </span><span class="c0">Make Transition.</span><span>&nbsp;T&auml;m&auml;n j&auml;lkeen painetaan hiiren vasemmalla </span><span class="c0">Liuku</span><span>-kohtaa. Nyt laatikoita yhdist&auml;&auml; nuoli. Painetaan hiiren oikealla nyt </span><span class="c0">Liuku</span><span>-kohtaa, valitaan </span><span class="c0">Make Transition,</span><span>&nbsp;ja painetaan hiiren vasemmalla </span><span class="c0">Juoksu</span><span class="c4">-kohtaa. Nyt animaatiot voivat liikkua toistensa v&auml;lill&auml;.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 322.67px;"><img alt="" src="unity2/images/image15.gif" style="width: 601.70px; height: 322.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c16 c0"></span></p><p class="c1"><span>Jos kokeilemme peli&auml; nyt, ne kuitenkin vaihtuvat toistensa v&auml;lill&auml; koko ajan. T&auml;m&auml; johtuu siit&auml; ettemme antaneet viel&auml; mit&auml;&auml;n arvoa jonka mukaan animaatiot vaihtuvat. </span><span class="c0">Animator</span><span>-n&auml;kym&auml;ss&auml; hieman vasemmassa yl&auml;kulmassa pit&auml;isi n&auml;ky&auml; sellainen kohta kuin </span><span class="c0">Parameters</span><span>. Painetaan siit&auml;. Meill&auml; pit&auml;isi nyt n&auml;kym&auml;ss&auml; vasemmalla lukea </span><span class="c0">The list is empty</span><span>, eli meill&auml; ei ole mit&auml;&auml;n arvoja luotuna joiden mukaan animaatiot muuttuisivat. Etsit&auml;&auml;n pieni </span><span class="c0">+</span><span>&nbsp;(plus) merkki, ja painetaan siit&auml;, niin meille avautuu pieni valikko. Valitaan sielt&auml; </span><span class="c0">Bool</span><span>, ja annetaan sille nimeksi </span><span class="c0">liuku</span><span class="c4">.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 322.67px;"><img alt="" src="unity2/images/image20.gif" style="width: 601.70px; height: 322.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Nyt meill&auml; on bool arvo jota voimme k&auml;ytt&auml;&auml;. Valitaan nuoli joka osoittaa </span><span class="c0">Juoksu</span><span>&nbsp;animaatiosta </span><span class="c0">liuku</span><span>&nbsp;animaatioon painamalla siit&auml; hiiren vasemmalla. Katsotaan sitte </span><span class="c0">Inspector</span><span class="c4">-n&auml;kym&auml;&auml;, jonka tulisi n&auml;ytt&auml;&auml; jokseenkin t&auml;lt&auml;:</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 548.00px; height: 615.00px;"><img alt="" src="unity2/images/image11.png" style="width: 548.00px; height: 615.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Mit&auml; haluamme tehd&auml;, niin poistetaan ruksi </span><span class="c0">Has Exit Time</span><span>-kohdasta. T&auml;m&auml; tarkoittaa sit&auml;, ett&auml; vasta animaation lopussa siirryt&auml;&auml;n seuraavaan animaatioon, mutta me haluamme ett&auml; hahmo menee liukuun heti nappia painettua, joten otimme ruksin pois. T&auml;m&auml;n j&auml;lkeen katsotaan alas, jossa lukee </span><span class="c0">List Is Empty.</span><span>&nbsp;Painetaan pient&auml; plussaa oikealta, ja meid&auml;n juuri luomamme </span><span class="c0">Bool</span><span>&nbsp;arvo ilmestyy sen paikalle, ja sen vieress&auml; lukee </span><span class="c0">True.</span><span class="c4">&nbsp;Eli nyt, aina kun bool-arvomme on totta, muuttuu animaatio liukumiseksi.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 546.00px; height: 733.00px;"><img alt="" src="unity2/images/image17.gif" style="width: 546.00px; height: 733.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Valitaan sitten nuoli joka osoittaa </span><span class="c0">Liuku</span><span>&nbsp;animaatiosta </span><span class="c0">Juoksu</span><span>&nbsp;animaatioon. Tehd&auml;&auml;n sama kuin edellisellekkin kohdalle, eli poistetaan ruksi </span><span class="c0">Has Exit Time</span><span>-kohdasta, ja painetaan plussaa alhaalta. Taas ilmestyy </span><span class="c0">Bool</span><span>&nbsp;arvomme nimi, sek&auml; sen viereen </span><span class="c0">True.</span><span>&nbsp;Mutta t&auml;ll&auml; kertaa painetaan </span><span class="c0">True</span><span>-kohdasta, ja valitaankin </span><span class="c0">False.</span><span class="c4">&nbsp;Eli nyt kun arvo ei olekkaan totta, animaatio palaa takaisin juoksuun.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 546.00px; height: 733.00px;"><img alt="" src="unity2/images/image6.gif" style="width: 546.00px; height: 733.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c16 c0"></span></p><p class="c1"><span class="c4">Palataan scriptin joukkoon. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1 c7"><span class="c4"></span></p><a id="t.125c1ad341050a59f3f250634d9c9d9a7577d549"></a><a id="t.1"></a><table class="c19"><tbody><tr class="c18"><td class="c13" colspan="1" rowspan="1"><p class="c1"><span class="c5">//N&auml;m&auml; 3 rivi&auml; ovat koodissa jo valmiina</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;System.Collections;</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;System.Collections.Generic;</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;UnityEngine;</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c5">//T&auml;m&auml;kin on koodissasi jo valmiina, ja &quot;liike&quot; sanan tilalla pit&auml;isi olla scriptisi nimi. Jos ei ole, niin kirjoita se siihen.</span></p><p class="c1"><span class="c10">public class</span><span>&nbsp;</span><span class="c20">liike</span><span>&nbsp;: </span><span class="c20">MonoBehaviour</span><span class="c4">&nbsp;{</span></p><p class="c1 c2"><span class="c5">//luodaan t&auml;m&auml;n j&auml;lkeen kaikki muuttujat</span></p><p class="c1 c2"><span class="c10">float</span><span class="c4">&nbsp;nopeus = 0.01f;</span></p><p class="c1 c2"><span class="c8">Animator</span><span class="c4 c11">&nbsp;anim;</span></p><p class="c1 c7 c2"><span class="c4 c11"></span></p><p class="c1 c2"><span class="c8">void</span><span class="c4 c11">&nbsp;Start(){</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//Annetaan muuttujalle arvoksi objektin oma komponentti, jolloin meid&auml;n ei joka kerta tarvitse kirjoittaa GetComponent&lt;Animator&gt;() jos haluamme p&auml;&auml;st&auml; k&auml;siksi siihen.</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim=GetComponent&lt;</span><span class="c8">Animator</span><span class="c4 c11">&gt;();</span></p><p class="c1 c2"><span class="c4 c11">}</span></p><p class="c1 c7 c2"><span class="c4 c11"></span></p><p class="c1 c2"><span class="c5 c11">//T&auml;m&auml; tapahtuu tasan joka frame, t&auml;h&auml;n kannattaa laittaa pelaajan nappien painallukset</span></p><p class="c1 c2"><span class="c8">void</span><span class="c4 c11">&nbsp;Update(){</span></p><p class="c1 c3 c2"><span class="c5 c11">//jos painetaan hiiren vasenta, tai kosketetaan k&auml;nnyk&auml;n n&auml;ytt&ouml;&auml;, niin p&auml;&auml;st&auml;&auml;n aaltosulkeiden sis&auml;&auml;n.</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c8">if</span><span class="c11">(</span><span class="c12 c11">Input</span><span class="c11">.GetMouseButton(0) || </span><span class="c12 c11">Input</span><span class="c4 c11">.touchCount &gt; 0){</span></p><p class="c1 c6 c2"><span class="c5 c11">//Luodaan uusi Vector3, johon tallennamme mihin kohtaan peli&auml; pelaaja painoi</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c8">Vector3 </span><span class="c4 c11">kohta;</span></p><p class="c1 c6 c2"><span class="c5 c11">//Jos pelaaja pelaakin k&auml;nnyk&auml;ll&auml;, saadaan t&auml;st&auml; pelaajan kosketuksen kohta</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c8">if</span><span class="c11">(</span><span class="c12 c11">Input</span><span class="c4 c11">.touchCount&gt;0){</span></p><p class="c1 c2"><span class="c4 c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kohta=Input.touches[0].position;</span></p><p class="c1 c2"><span class="c4 c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c6 c2"><span class="c5 c11">//Jos pelaaja ei pelaakkaan k&auml;nnyk&auml;ll&auml;, pelaa h&auml;n tietokoneella, joten otetaankin hiiren kursorin kohta</span></p><p class="c1 c6 c2"><span class="c8">else</span><span class="c4 c11">{</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kohta=</span><span class="c12 c11">Input</span><span class="c4 c11">.mousePosition;</span></p><p class="c1 c2"><span class="c4 c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c2"><span class="c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//Jos pelaaja painaa ruudun alapuolelle, laitetaan pelihahmo liukumaan.</span></p><p class="c1 c2"><span class="c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c8">if </span><span class="c11">(kohta.y &lt; </span><span class="c12 c11">Screen</span><span class="c4 c11">.height / 2)</span></p><p class="c1 c2"><span class="c4 c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//M&auml;&auml;ritell&auml;&auml;n ett&auml; Animator-komponenttiin luomamme bool-muuttujan arvo on True</span></p><p class="c1 c2"><span class="c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim.SetBool(</span><span class="c11 c9">&quot;liuku&quot;</span><span class="c11">,</span><span class="c12 c11">&nbsp;true</span><span class="c4 c11">);</span></p><p class="c1 c2"><span class="c4 c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c2"><span class="c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//jos kohta on ruudun yl&auml;puolella, laitetaan pelaaja hypp&auml;&auml;m&auml;&auml;n</span></p><p class="c1 c2"><span class="c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c8">else if</span><span class="c11">&nbsp;(kohta.y &gt; </span><span class="c12 c11">Screen</span><span class="c4 c11">.height / 2)</span></p><p class="c1 c2"><span class="c4 c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c1 c7 c2"><span class="c4 c11"></span></p><p class="c1 c2"><span class="c4 c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c3 c2"><span class="c4 c11">}</span></p><p class="c1 c3 c2"><span class="c14 c8">else</span></p><p class="c1 c3 c2"><span class="c4 c11">{</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//M&auml;&auml;ritell&auml;&auml;n ett&auml; Animator-komponenttiin luomamme bool-muuttujan arvo on False</span></p><p class="c1 c6 c2"><span class="c11">anim.SetBool(</span><span class="c11 c9">&quot;liuku&quot;</span><span class="c11">, </span><span class="c12 c11">false</span><span class="c4 c11">);</span></p><p class="c1 c3 c2"><span class="c4 c11">}</span></p><p class="c1 c2"><span class="c4 c11">}</span></p><p class="c1 c2"><span class="c5">//T&auml;m&auml; tapahtuu joka frame, t&auml;h&auml;n kannattaa laittaa kaikki liikkuminen</span></p><p class="c1 c2"><span class="c10">void</span><span class="c4">&nbsp;FixedUpdate()</span></p><p class="c1 c2"><span class="c4">{</span></p><p class="c1 c3 c2"><span class="c5">//liikutetaan pelihahmoamme oikealle</span></p><p class="c1 c3 c2"><span>transform.position += </span><span class="c10">Vector3</span><span class="c4">.right * nopeus;</span></p><p class="c1 c3 c2"><span class="c5">//suurennetaan nopeus arvoa, ett&auml; pelihahmo nopeutuu pelin edetess&auml; koko ajan hieman</span></p><p class="c1 c3 c2"><span class="c4">nopeus += 0.0001f;</span></p><p class="c1 c3"><span class="c4">}</span></p><p class="c1"><span>}</span></p></td></tr></tbody></table><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">T&auml;ss&auml; on taas paljon asiaa, joten kirjoittakaa rauhassa. Kommentteja, eli vihre&auml;ll&auml; kirjoitettuja kohtia ei ole pakko kirjoittaa, ne vain kertovat mit&auml; koodissa tehd&auml;&auml;n.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Mit&auml; aivan aluksi teemme on se, ett&auml; luomme uuden </span><span class="c0">Animator</span><span>-muuttujan, jolle annamme </span><span class="c0">Start()</span><span>&nbsp;aaltosulkeiden sis&auml;ll&auml; arvoksi objektin oman </span><span class="c0">Animator</span><span>-komponentin. T&auml;m&auml; on helppo tapa yksinkertaistaa koodia, ettei meid&auml;n joka kerta tarvitse kirjoittaa </span><span class="c0">GetComponent&lt;komponentinnimi&gt;()</span><span class="c4">&nbsp;jos haluamme p&auml;&auml;st&auml; k&auml;siksi komponenttiin. Voimme vain luoda oikeanlaisen muuttujan, johon otamme komponentin ns. muistiin. Kaikki muuttujalle tehdyt muutokset menev&auml;t automaattisesti my&ouml;s komponenttiin.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Luomme my&ouml;s </span><span class="c0">Update()</span><span>-methodin, johon siis ker&auml;&auml;mme kaikki k&auml;ytt&auml;j&auml;n antamat sy&ouml;tteet. Siell&auml; teemme </span><span class="c0">if</span><span>-lausekkeen, joka tarkistaa onko hiiren vasenta painiketta painettu, tai onko </span><span class="c0">touch</span><span>:eja enemm&auml;n kuin 0. </span><span class="c0">Touch</span><span class="c4">&nbsp;tarkoittaa siis n&auml;yt&ouml;n kosketusta jos pelaamme &auml;lylaitteella, ja koska teemme pelin toimimaan my&ouml;s k&auml;nnyk&auml;ll&auml;, tarkistamme molemmat.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Jos jompikumpi on totta, p&auml;&auml;semme aaltosulkeiden sis&auml;&auml;n, jossa luomme uuden </span><span class="c0">Vector3</span><span>&nbsp;muuttujan. T&auml;m&auml;n j&auml;lkeen tarkistamme pelaako pelaaja siis k&auml;nnyk&auml;ll&auml; vai tietokoneella, ja riippuen siit&auml;, annetaan </span><span class="c0">Vector3</span><span class="c4">-muuttujalle arvoksi joko kosketuksen kohdan, tai kursorin kohdan.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>T&auml;m&auml;n j&auml;lkeen tarkistamme, onko </span><span class="c0">Vector3</span><span>-muuttujan </span><span class="c0">Y</span><span>-arvo pienempi tai suurempi kuin n&auml;yt&ouml;n korkeus jaettuna kahdella, eli painaako pelaaja n&auml;yt&ouml;n yl&auml;- vai alareunasta. Jos h&auml;n painaa alareunasta, asetetaan </span><span class="c0">Animator</span><span>-muuttujaan luomamme </span><span class="c0">bool</span><span>-muuttujan arvoksi </span><span class="c0">True.</span><span class="c4">&nbsp;T&auml;m&auml; tarkoittaa sit&auml; ett&auml; painamme alasp&auml;in, eli haluamme liukua, jolloin liukumis animaatio l&auml;htee py&ouml;rim&auml;&auml;n.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Jos pelaaja ei painakkaan hiiren vasenta tai kosketa n&auml;ytt&ouml;&auml;, p&auml;&auml;semme </span><span class="c0">else</span><span>:n aaltosulkeiden v&auml;liin, jossa asetammekin </span><span class="c0">Animator</span><span>-muuttujaan luomamme </span><span class="c0">bool</span><span>-muuttujan arvoksi </span><span class="c0">False</span><span class="c4">. Eli koska emme paina en&auml;&auml; alasp&auml;in, niin tulisi animaation palata takaisin juoksuun.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Tallennetaan taas </span><span class="c0">CTRL+S</span><span>&nbsp;n&auml;pp&auml;inyhdistelm&auml;ll&auml;. Nyt voimme kokeilla peli&auml;. Pelaaja l&auml;htee juoksemaan ja liikkuu ihan normaalisti. Jos painamme n&auml;yt&ouml;n keskikohdan alapuolelta, niin huomaamme ett&auml; pelihahmo l&auml;hteekin luisumaan juuri kuten halusimmekin. Mutta vaikka pelihahmo liukuukin, sen </span><span class="c0">Box Collider 2D</span><span class="c4">&nbsp;pysyy samana kuin aijemmin, eli objektin hitboxi on viel&auml; pystyss&auml;. T&auml;m&auml; on korjattava.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Ellemme menneet jo, niin palataan Unityyn, ja valitaan pelaajahahmomme </span><span class="c0">Hierarchy-</span><span>n&auml;kym&auml;ss&auml;. Painetaan </span><span class="c0">Add Component</span><span>&nbsp;taas </span><span class="c0">Inspector-</span><span>n&auml;kym&auml;ss&auml; aivan oikealla, valitaan </span><span class="c0">Physics 2D</span><span>, ja taas </span><span class="c0">Box Collider 2D</span><span>. Eli nyt objektissamme onkin kaksi </span><span class="c0">Box Collider 2D</span><span>-komponenttia. Painetaan </span><span class="c0">Scene</span><span>&nbsp;kohdasta ett&auml; p&auml;&auml;semme taas </span><span class="c0">Scene-</span><span>n&auml;kym&auml;&auml;n, ja muokataan j&auml;lkimm&auml;ist&auml; siten, ett&auml; se olisi suunnilleen liukuvan hahmomme levyinen ja korkuinen, ja pienennet&auml;&auml;n sen </span><span class="c0">Offset Y</span><span class="c4">&nbsp;arvoa jotta collider olisi hyv&auml;ll&auml; korkeudella.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 305.33px;"><img alt="" src="unity2/images/image19.gif" style="width: 601.70px; height: 305.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Testataan peli&auml; tarkistaaksemme ett&auml; colliderit ovat varmasti hyvin, ja palataan sen j&auml;lkeen scriptiin. Tehd&auml;&auml;n seuraavat muutokset sinne:</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1 c7"><span class="c4"></span></p><a id="t.9ab6163bc38be2197418c204fc83cbec79e4f396"></a><a id="t.2"></a><table class="c19"><tbody><tr class="c18"><td class="c13" colspan="1" rowspan="1"><p class="c1"><span class="c5">//N&auml;m&auml; 3 rivi&auml; ovat koodissa jo valmiina</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;System.Collections;</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;System.Collections.Generic;</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;UnityEngine;</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c5">//T&auml;m&auml;kin on koodissasi jo valmiina, ja &quot;liike&quot; sanan tilalla pit&auml;isi olla scriptisi nimi. Jos ei ole, niin kirjoita se siihen.</span></p><p class="c1"><span class="c10">public class</span><span>&nbsp;</span><span class="c20">liike</span><span>&nbsp;: </span><span class="c20">MonoBehaviour</span><span class="c4">&nbsp;{</span></p><p class="c1 c2"><span class="c5">//luodaan t&auml;m&auml;n j&auml;lkeen kaikki muuttujat</span></p><p class="c1 c2"><span class="c10">float</span><span class="c4">&nbsp;nopeus = 0.01f;</span></p><p class="c1 c2"><span class="c10">Animator</span><span class="c4">&nbsp;anim;</span></p><p class="c1 c2"><span class="c5 c11">//T&auml;m&auml; on hieman erillainen muuttuja kuin muut, koska siin&auml; on [] muuttujan tyypin per&auml;ss&auml;. Mit&auml; t&auml;m&auml; tarkoittaa selitet&auml;&auml;n alempana, sek&auml; c# materiaaleissa kohdassa Array.</span></p><p class="c1 c2"><span class="c8">BoxCollider2D[]</span><span class="c4 c11">&nbsp;colliderit;</span></p><p class="c1 c7 c2"><span class="c4"></span></p><p class="c1 c2"><span class="c10">void</span><span class="c4">&nbsp;Start(){</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Annetaan muuttujalle arvoksi objektin oma komponentti, jolloin meid&auml;n ei joka kerta tarvitse kirjoittaa GetComponent&lt;Animator&gt;() jos haluamme p&auml;&auml;st&auml; k&auml;siksi siihen.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim=GetComponent&lt;</span><span class="c10">Animator</span><span class="c4">&gt;();</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//Annetaan muuttujalle arvoksi objektin kaikki BoxCollider2D komponentit. Huomaa, ett&auml; se on GetComponents, eli S-kirjain per&auml;&auml;n.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c11">colliderit=GetComponents&lt;</span><span class="c8">BoxCollider2D</span><span class="c4 c11">&gt;();</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//Asetetaan j&auml;lkimm&auml;inen box collider, eli se joka tulee luisuun, pois p&auml;&auml;lt&auml; ettei se t&ouml;rm&auml;&auml; mihk&auml;&auml;n silloin kun hahmomme juoksuu pystyss&auml;.</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[1].enabled=</span><span class="c8">false</span><span class="c4 c11">;</span></p><p class="c1 c2"><span class="c4">}</span></p><p class="c1 c7 c2"><span class="c4"></span></p><p class="c1 c2"><span class="c5">//T&auml;m&auml; tapahtuu tasan joka frame, t&auml;h&auml;n kannattaa laittaa pelaajan nappien painallukset</span></p><p class="c1 c2"><span class="c10">void</span><span class="c4">&nbsp;Update(){</span></p><p class="c1 c3 c2"><span class="c5">//jos painetaan hiiren vasenta, tai kosketetaan k&auml;nnyk&auml;n n&auml;ytt&ouml;&auml;, niin p&auml;&auml;st&auml;&auml;n aaltosulkeiden sis&auml;&auml;n.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">if</span><span>(</span><span class="c12">Input</span><span>.GetMouseButton(0) || </span><span class="c12">Input</span><span class="c4">.touchCount &gt; 0){</span></p><p class="c1 c6 c2"><span class="c5">//Luodaan uusi Vector3, johon tallennamme mihin kohtaan peli&auml; pelaaja painoi</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">Vector3 </span><span class="c4">kohta;</span></p><p class="c1 c6 c2"><span class="c5">//Jos pelaaja pelaakin k&auml;nnyk&auml;ll&auml;, saadaan t&auml;st&auml; pelaajan kosketuksen kohta</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">if</span><span>(</span><span class="c12">Input</span><span class="c4">.touchCount&gt;0){</span></p><p class="c1 c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kohta=Input.touches[0].position;</span></p><p class="c1 c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c6 c2"><span class="c5">//Jos pelaaja ei pelaakkaan k&auml;nnyk&auml;ll&auml;, pelaa h&auml;n tietokoneella, joten otetaankin hiiren kursorin kohta</span></p><p class="c1 c6 c2"><span class="c10">else</span><span class="c4">{</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kohta=</span><span class="c12">Input</span><span class="c4">.mousePosition;</span></p><p class="c1 c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Jos pelaaja painaa ruudun alapuolelle, laitetaan pelihahmo liukumaan.</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">if </span><span>(kohta.y &lt; </span><span class="c12">Screen</span><span class="c4">.height / 2)</span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//M&auml;&auml;ritell&auml;&auml;n ett&auml; Animator-komponenttiin luomamme bool-muuttujan arvo on True</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim.SetBool(</span><span class="c9">&quot;liuku&quot;</span><span>,</span><span class="c12">&nbsp;true</span><span class="c4">);</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//Asetetaan pystyss&auml; oleva collider pois p&auml;&auml;lt&auml;, ja kumossa oleva collider p&auml;&auml;lle, jolloin tulee vaikutelma ett&auml; hitbox muuttuu hahmon mukana</span></p><p class="c1 c2"><span class="c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[0].enabled = </span><span class="c8">false</span><span class="c4 c11">;</span></p><p class="c1 c2"><span class="c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[1].enabled = </span><span class="c8">true</span><span class="c4 c11">;</span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//jos kohta on ruudun yl&auml;puolella, laitetaan pelaaja hypp&auml;&auml;m&auml;&auml;n</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">else if</span><span>&nbsp;(kohta.y &gt; </span><span class="c12">Screen</span><span class="c4">.height / 2)</span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c1 c7 c2"><span class="c4"></span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c3 c2"><span class="c4">}</span></p><p class="c1 c3 c2"><span class="c14 c10">else</span></p><p class="c1 c3 c2"><span class="c4">{</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//M&auml;&auml;ritell&auml;&auml;n ett&auml; Animator-komponenttiin luomamme bool-muuttujan arvo on False</span></p><p class="c1 c6 c2"><span>anim.SetBool(</span><span class="c9">&quot;liuku&quot;</span><span>, </span><span class="c12">false</span><span>);</span></p><p class="c1 c2"><span class="c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[0].enabled = </span><span class="c8">true</span><span class="c4 c11">;</span></p><p class="c1 c2"><span class="c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[1].enabled = </span><span class="c8">false</span><span class="c4 c11">;</span></p><p class="c1 c3 c2"><span class="c4">}</span></p><p class="c1 c2"><span class="c4">}</span></p><p class="c1 c2"><span class="c5">//T&auml;m&auml; tapahtuu joka frame, t&auml;h&auml;n kannattaa laittaa kaikki liikkuminen</span></p><p class="c1 c2"><span class="c10">void</span><span class="c4">&nbsp;FixedUpdate()</span></p><p class="c1 c2"><span class="c4">{</span></p><p class="c1 c3 c2"><span class="c5">//liikutetaan pelihahmoamme oikealle</span></p><p class="c1 c3 c2"><span>transform.position += </span><span class="c10">Vector3</span><span class="c4">.right * nopeus;</span></p><p class="c1 c3 c2"><span class="c5">//suurennetaan nopeus arvoa, ett&auml; pelihahmo nopeutuu pelin edetess&auml; koko ajan hieman</span></p><p class="c1 c3 c2"><span class="c4">nopeus += 0.0001f;</span></p><p class="c1 c3"><span class="c4">}</span></p><p class="c1"><span>}</span></p></td></tr></tbody></table><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Mit&auml; nyt koodissa teimme, niin loimme uuden </span><span class="c0">BoxCollider2D</span><span>-muuttujan nimelt&auml;&auml;n &quot;colliderit&quot;, mutta se ei ole ihan tavallinen muuttuja, sill&auml; tyypin per&auml;ss&auml; oli viel&auml; </span><span class="c0">[ ]</span><span>. T&auml;m&auml; tarkoittaa sit&auml;, ett&auml; muuttuja on </span><span class="c0">Array.</span><span class="c4">&nbsp;</span></p><p class="c1 c7"><span class="c16 c0"></span></p><p class="c1"><span class="c0">Array</span></p><p class="c1 c7"><span class="c16 c0"></span></p><p class="c1"><span class="c0">Array</span><span class="c4">&nbsp;tarkoittaa ohjelmoinnissa jonoa samankaltaisia muuttujia jotka ovat kaikki yhdess&auml; muuttujassa. Eli voimme asettaa monta eri arvoa yhteen muuttujaan, ja p&auml;&auml;st&auml; halutessamme niihin kaikkiin k&auml;siksi milloin haluamme. P&auml;&auml;semme muuttujiin k&auml;siksi kirjoittamalla muuttujan nimen, ja sitten monennenko arvon muuttujasta haluamme siten, ett&auml; 0 on ensimm&auml;inen arvo. T&auml;st&auml; selitet&auml;&auml;n tarkemmin c#-materiaaleissa, joten kannattaa lukea sielt&auml;.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c0">Start</span><span>-methodissa asetamme muuttujalle arvon </span><span class="c0">GetComponents</span><span>, eli se ottaa kaikki haluamamme kaltaiset muuttujat objektista ja asettaa ne jonoon. Eli t&auml;ss&auml; tapauksessa se ottaa objektistamme molemmat </span><span class="c0">BoxCollider2D, </span><span>ja asettaa ne jonoon meille. Koska se ottaa n&auml;m&auml; komponentit j&auml;rjestyksess&auml;, ensimm&auml;isen&auml; pit&auml;isi olla pystyss&auml; oleva collider ja toisena on kumossa oleva. Koska aloitamme pelin juoksemalla, asetetaan toisen colliderin </span><span class="c0">enabled</span><span class="c4">-arvo falseksi, eli objekti lopettaa toistaiseksi toimintansa.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>T&auml;m&auml;n j&auml;lkeen vaihtelemme molempien komponenttien </span><span class="c0">enabled</span><span class="c4">&nbsp;arvoja, jotta kun toinen on p&auml;&auml;ll&auml;, toinen menee pois p&auml;&auml;lt&auml;. Joten nyt kun kokeilemme peli&auml;, aina kun liu&#39;umme, menee toinen Collider p&auml;&auml;lle, ja toinen pois, ja kun lopetamme niin tapahtuu taas sama mutta p&auml;in vastoin. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Eli nyt kannattaa kokeilla peli&auml; ett&auml; se varmasti toimii oikein.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Luodaan seuraavaksi peliin hyppiminen, ja aloitamme sen samalla tavalla kuin luisumisenkin, eli luomalla animaatiot. T&auml;h&auml;n meille on varattu 3 eri animaatiota, joten tehd&auml;&auml;n ne kaikki samantien. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Siirryt&auml;&auml;n </span><span class="c0">Animation</span><span>-n&auml;kym&auml;&auml;n, ja painetaan t&auml;m&auml;n hetkisen animaation nimest&auml; vasemmasta yl&auml;kulmasta, ja valitaan taas </span><span class="c0">Create New Clip. </span><span>Annetaan sille nimeksi </span><span class="c0">hyppy</span><span>, ja tallennetaan se </span><span class="c0">hyppy-</span><span>kansioon. Etsit&auml;&auml;n </span><span class="c0">hyppy-</span><span>kansio </span><span class="c0">Project-</span><span>n&auml;kym&auml;st&auml; alhaalta, valitaan taas kaikki kuvat, ja vedet&auml;&auml;n ne animaatioon. </span><span class="c0">Hyppy-</span><span>kansiossa pit&auml;isi olla my&ouml;s </span><span class="c0">hyppy</span><span>-tiedosto. Se on juuri luomamme animaation tiedosto. Painetaan siit&auml; hiiren vasemmalla, ja katsotaan oikealle </span><span class="c0">Inspector-</span><span>n&auml;kym&auml;&auml;n. Siell&auml; pit&auml;isi olla sellainen ruksi kuin </span><span class="c0">Loop Time. </span><span class="c4">Otetaan t&auml;m&auml; ruksi pois, jolloin hyppyanimaatiomme ei looppaa, eli toista itse&auml;&auml;n loputtomiin. N&auml;ytt&auml;isi hassulta jos hahmomme hypp&auml;&auml; kerran, ja jatkaa hyppyponnistusta viel&auml; ilmassakin.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 305.33px;"><img alt="" src="unity2/images/image26.gif" style="width: 601.70px; height: 305.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Valitaan pelihahmomme taas </span><span class="c0">Hierarchy-</span><span>n&auml;kym&auml;st&auml;. Nyt voimme luoda uuden animaation, eli taas, painetaan vasemmalta ylh&auml;&auml;lt&auml; animaation nimest&auml;, ja valitaan </span><span class="c0">Create New Clip</span><span>. Annetaan sille t&auml;ll&auml; kertaa nimeksi </span><span class="c0">alas,</span><span>&nbsp;ja tallennetaan se </span><span class="c0">alas</span><span>&nbsp;kansioon. Etsit&auml;&auml;n taas kyseinen </span><span class="c0">alas</span><span>-kansio, valitaan kaikki kuvat ja asetetaan ne animaatioon. Tehd&auml;&auml;n t&auml;lle animaatiolle my&ouml;s sama kuin edellisellekkin, eli etsit&auml;&auml;n kyseinen tiedosto, ja painetaan </span><span class="c0">Loop Time</span><span class="c4">&nbsp;pois p&auml;&auml;lt&auml;.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Toistetaan sama viel&auml; kerran, ja laitetaan sen nimeksi </span><span class="c0">osuu</span><span>&nbsp;(niin kuin osuu maahan(en ole mestari nime&auml;misess&auml;)). Ja taas, etsi tiedosto, </span><span class="c0">Loop Time</span><span>&nbsp;pois p&auml;&auml;lt&auml;. Nyt meill&auml; on hyppyyn tarvittavat animaatiot, joten siirryt&auml;&auml;n </span><span class="c0">Animator</span><span class="c4">&nbsp;v&auml;lilehteen.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Siell&auml; pit&auml;isi n&auml;ky&auml; kaikki 3 uutta animaatiotamme. Meid&auml;n kannattaa hieman siirrell&auml; niiden paikkoja ett&auml; ne ovat hyvin. Voimme siirrell&auml; laatikoita ottamalla niist&auml; hiiren vasemmalla kiinni ja vet&auml;m&auml;ll&auml; ne eri paikkaan.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Mit&auml; tehd&auml;&auml;n seuraavaksi, on yhdist&auml;&auml; animaatiot oikein. Eli painetaan hiiren oikealla </span><span class="c0">juoksu</span><span>-laatikosta, valitaan </span><span class="c0">Make Transition</span><span>, ja painetaan sitten hiiren vasemmalla </span><span class="c0">hyppy</span><span>-laatikkoa, jolloin nuoli yhdistyy laatikoiden v&auml;lille. Painetaan hiiren oikealla nyt </span><span class="c0">hyppy-</span><span>laatikkoa, valitaan </span><span class="c0">Make Transition,</span><span>&nbsp;ja painetaan sitten </span><span class="c0">alas</span><span>-laatikkoa. Sama viel&auml; uudestaan, hiiren oikealla </span><span class="c0">alas</span><span>-laatikkoa, </span><span class="c0">Make Transition</span><span>, ja painetaan </span><span class="c0">osuu</span><span>-laatikkoa. Ja VIEL&Auml; kerran, hiiren oikealla </span><span class="c0">osuu</span><span>-laatikkoa, </span><span class="c0">Make Transition </span><span>ja painetaan se </span><span class="c0">juoksu</span><span class="c4">-laatikkoon. Eli nyt meill&auml; pit&auml;isi olla t&auml;m&auml;n n&auml;k&ouml;inen ympyr&auml; tehtyn&auml;.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 340.00px;"><img alt="" src="unity2/images/image3.gif" style="width: 601.70px; height: 340.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 396.00px;"><img alt="" src="unity2/images/image4.png" style="width: 601.70px; height: 396.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Seuraavaksi, vasemmalla pit&auml;isi n&auml;ky&auml; viel&auml; </span><span class="c0">Bool</span><span>-muuttujamme, </span><span class="c0">liuku</span><span>. Jos ei n&auml;y, niin painetaan </span><span class="c0">Parameter</span><span>-kohdasta hieman sielt&auml; oikealla. Painetaan pient&auml; valkoista +(plus) merkki&auml;, ja valitaan taas </span><span class="c0">Bool.</span><span>&nbsp;Annetaan sille t&auml;ll&auml; kertaa nimeksi </span><span class="c0">hyppy</span><span>. Painetaan +(plus) merkki&auml; viel&auml; kerran, valitaan viel&auml; kerran </span><span class="c0">Bool</span><span>, ja annetaan sille nimeksi </span><span class="c0">maassa</span><span class="c4">.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 340.00px;"><img alt="" src="unity2/images/image30.gif" style="width: 601.70px; height: 340.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Painetaan nuolta </span><span class="c0">juoksu</span><span>&nbsp;ja </span><span class="c0">hyppy</span><span>&nbsp;laatikoiden v&auml;lill&auml;. Katsotaan oikealle, ja otetaan </span><span class="c0">has exit time</span><span>-ruksi pois p&auml;&auml;lt&auml;. Painetaan my&ouml;s plussaa alhaalta </span><span class="c0">Conditions</span><span>-kohdasta. T&auml;h&auml;n pit&auml;isi ilmesty&auml; </span><span class="c0">liuku</span><span>&nbsp;ja </span><span class="c0">true.</span><span>&nbsp;Painetaan alasp&auml;in nuolta </span><span class="c0">liuku</span><span>&nbsp;kohdan vierest&auml;, ja valitaan </span><span class="c0">hyppy</span><span class="c4">.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 372.00px;"><img alt="" src="unity2/images/image21.gif" style="width: 601.70px; height: 372.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Painetaan nyt nuolta </span><span class="c0">hyppy </span><span>ja </span><span class="c0">alas</span><span>&nbsp;laatikoiden v&auml;lilt&auml;. Otetaan taas </span><span class="c0">has exit time</span><span>-ruksi pois p&auml;&auml;lt&auml;, ja painetaan alhaalta plussaa. Painetaan taas alasp&auml;in nuolta, ja valitaan </span><span class="c0">hyppy</span><span>. Vaihdetaan </span><span class="c0">True</span><span>&nbsp;arvo my&ouml;s </span><span class="c0">False</span><span class="c4">&nbsp;arvoksi.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Painetaan nyt nuolta </span><span class="c0">alas</span><span>&nbsp;ja </span><span class="c0">osuu</span><span>-laatikoiden v&auml;lilt&auml;. Taas, </span><span class="c0">has exit time</span><span>&nbsp;pois p&auml;&auml;lt&auml;, ja alhaalta plussaa. Valitaan t&auml;ll&auml; kertaa </span><span class="c0">hyppy</span><span>&nbsp;kohdan sijaan </span><span class="c0">maassa</span><span class="c4">. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Nyt meill&auml; pit&auml;isi olla hyppyyn animaatio valmiina, joten siirryt&auml;&auml;n taas koodin puoleen. Tehd&auml;&auml;n n&auml;m&auml; muutokset koodiin:</span></p><p class="c1 c7"><span class="c4"></span></p><a id="t.a62562774b03ee760594a69543cfc28aa52b309c"></a><a id="t.3"></a><table class="c19"><tbody><tr class="c18"><td class="c13" colspan="1" rowspan="1"><p class="c1"><span class="c5">//N&auml;m&auml; 3 rivi&auml; ovat koodissa jo valmiina</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;System.Collections;</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;System.Collections.Generic;</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;UnityEngine;</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c5">//T&auml;m&auml;kin on koodissasi jo valmiina, ja &quot;liike&quot; sanan tilalla pit&auml;isi olla scriptisi nimi. Jos ei ole, niin kirjoita se siihen.</span></p><p class="c1"><span class="c10">public class</span><span>&nbsp;</span><span class="c20">liike</span><span>&nbsp;: </span><span class="c20">MonoBehaviour</span><span class="c4">&nbsp;{</span></p><p class="c1 c2"><span class="c5">//luodaan t&auml;m&auml;n j&auml;lkeen kaikki muuttujat</span></p><p class="c1 c2"><span class="c10">float</span><span class="c4">&nbsp;nopeus = 0.01f;</span></p><p class="c1 c2"><span class="c10">Animator</span><span class="c4">&nbsp;anim;</span></p><p class="c1 c2"><span class="c5">//T&auml;m&auml; on hieman erillainen muuttuja kuin muut, koska siin&auml; on [] muuttujan tyypin per&auml;ss&auml;. Mit&auml; t&auml;m&auml; tarkoittaa selitet&auml;&auml;n alempana, sek&auml; c# materiaaleissa kohdassa Array.</span></p><p class="c1 c2"><span class="c10">BoxCollider2D[]</span><span class="c4">&nbsp;colliderit;</span></p><p class="c1 c2"><span class="c8">bool</span><span class="c11">&nbsp;hypitty = </span><span class="c12 c11">true</span><span class="c4 c11">;</span></p><p class="c1 c2"><span class="c8">public</span><span class="c11">&nbsp;</span><span class="c8">LayerMask</span><span class="c4 c11">&nbsp;taso;</span></p><p class="c1 c7 c2"><span class="c4"></span></p><p class="c1 c2"><span class="c10">void</span><span class="c4">&nbsp;Start(){</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Annetaan muuttujalle arvoksi objektin oma komponentti, jolloin meid&auml;n ei joka kerta tarvitse kirjoittaa GetComponent&lt;Animator&gt;() jos haluamme p&auml;&auml;st&auml; k&auml;siksi siihen.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim=GetComponent&lt;</span><span class="c10">Animator</span><span class="c4">&gt;();</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Annetaan muuttujalle arvoksi objektin kaikki BoxCollider2D komponentit. Huomaa, ett&auml; se on GetComponents, eli S-kirjain per&auml;&auml;n.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit=GetComponents&lt;</span><span class="c10">BoxCollider2D</span><span class="c4">&gt;();</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Asetetaan j&auml;lkimm&auml;inen box collider, eli se joka tulee luisuun, pois p&auml;&auml;lt&auml; ettei se t&ouml;rm&auml;&auml; mihk&auml;&auml;n silloin kun hahmomme juoksuu pystyss&auml;.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[1].enabled=</span><span class="c10">false</span><span class="c4">;</span></p><p class="c1 c2"><span class="c4">}</span></p><p class="c1 c7 c2"><span class="c4"></span></p><p class="c1 c2"><span class="c5">//T&auml;m&auml; tapahtuu tasan joka frame, t&auml;h&auml;n kannattaa laittaa pelaajan nappien painallukset</span></p><p class="c1 c2"><span class="c10">void</span><span class="c4">&nbsp;Update(){</span></p><p class="c1 c3 c2"><span class="c5">//jos painetaan hiiren vasenta, tai kosketetaan k&auml;nnyk&auml;n n&auml;ytt&ouml;&auml;, niin p&auml;&auml;st&auml;&auml;n aaltosulkeiden sis&auml;&auml;n.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">if</span><span>(</span><span class="c12">Input</span><span>.GetMouseButton(0) || </span><span class="c12">Input</span><span class="c4">.touchCount &gt; 0){</span></p><p class="c1 c6 c2"><span class="c5">//Luodaan uusi Vector3, johon tallennamme mihin kohtaan peli&auml; pelaaja painoi</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">Vector3 </span><span class="c4">kohta;</span></p><p class="c1 c6 c2"><span class="c5">//Jos pelaaja pelaakin k&auml;nnyk&auml;ll&auml;, saadaan t&auml;st&auml; pelaajan kosketuksen kohta</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">if</span><span>(</span><span class="c12">Input</span><span class="c4">.touchCount&gt;0){</span></p><p class="c1 c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kohta=Input.touches[0].position;</span></p><p class="c1 c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c2 c6"><span class="c5">//Jos pelaaja ei pelaakkaan k&auml;nnyk&auml;ll&auml;, pelaa h&auml;n tietokoneella, joten otetaankin hiiren kursorin kohta</span></p><p class="c1 c6 c2"><span class="c10">else</span><span class="c4">{</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kohta=</span><span class="c12">Input</span><span class="c4">.mousePosition;</span></p><p class="c1 c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Jos pelaaja painaa ruudun alapuolelle, laitetaan pelihahmo liukumaan.</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">if </span><span>(kohta.y &lt; </span><span class="c12">Screen</span><span>.height / 2</span><span class="c11">&amp;&amp;hypitty</span><span class="c4">)</span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//M&auml;&auml;ritell&auml;&auml;n ett&auml; Animator-komponenttiin luomamme bool-muuttujan arvo on True</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim.SetBool(</span><span class="c9">&quot;liuku&quot;</span><span>,</span><span class="c12">&nbsp;true</span><span class="c4">);</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Asetetaan pystyss&auml; oleva collider pois p&auml;&auml;lt&auml;, ja kumossa oleva collider p&auml;&auml;lle, jolloin tulee vaikutelma ett&auml; hitbox muuttuu hahmon mukana</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[0].enabled = </span><span class="c10">false</span><span class="c4">;</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[1].enabled = </span><span class="c10">true</span><span class="c4">;</span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//jos kohta on ruudun yl&auml;puolella, laitetaan pelaaja hypp&auml;&auml;m&auml;&auml;n</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">else if</span><span>&nbsp;(kohta.y &gt; </span><span class="c12">Screen</span><span>.height / 2</span><span class="c11">&amp;&amp;hypitty</span><span class="c4">)</span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//N&auml;m&auml; 3 rivi&auml; ovat samat kuin elsess&auml; hieman my&ouml;hemmin. Syy miksi ne ovat my&ouml;s t&auml;ss&auml; on siksi, koska muuten pelaaja voisi glitchata pelin ja hyp&auml;t&auml;, vaikka h&auml;n onkin viel&auml; liukumassa. Nyt peli ei glitchaannu.</span></p><p class="c1 c6 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c11">anim.SetBool(</span><span class="c11 c9">&quot;liuku&quot;</span><span class="c11">, </span><span class="c12 c11">false</span><span class="c4 c11">);</span></p><p class="c1 c2"><span class="c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[0].enabled = </span><span class="c8">true</span><span class="c4 c11">;</span></p><p class="c1 c2"><span class="c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[1].enabled = </span><span class="c14 c8">false;</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Lis&auml;t&auml;&auml;n rigidbodyyn yl&ouml;smenev&auml;&auml; voimaa hypyn saamiseksi </span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c17 c11">GetComponent&lt;</span><span class="c8">Rigidbody2D</span><span class="c17 c11">&gt;().velocity = </span><span class="c8">Vector3</span><span class="c5 c11">.up * 10;</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//Asetetaan hyppy bool oikein ett&auml; hyppy animaatio l&auml;htee py&ouml;rim&auml;&auml;n, sek&auml; hypitty bool v&auml;&auml;r&auml;ksi ettei ilmassa voi yht&auml;kki&auml; hyp&auml;t&auml; uudestaan. Asetetaan my&ouml;s maassa bool v&auml;&auml;rin, ett&auml; tied&auml;mme milloin osumme maahan ja l&auml;htee oikea animaatio py&ouml;rim&auml;&auml;n.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c11">anim.SetBool(</span><span class="c11 c9">&quot;hyppy&quot;</span><span class="c11">,</span><span class="c8">true</span><span class="c4 c11">);</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hypitty=</span><span class="c8">false</span><span class="c4 c11">;</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim.SetBool(</span><span class="c11 c9">&quot;maassa&quot;</span><span class="c11">,</span><span class="c8">false</span><span class="c4 c11">);</span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c3 c2"><span class="c4">}</span></p><p class="c1 c2 c3"><span class="c14 c10">else</span></p><p class="c1 c3 c2"><span class="c4">{</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//M&auml;&auml;ritell&auml;&auml;n ett&auml; Animator-komponenttiin luomamme bool-muuttujan arvo on False</span></p><p class="c1 c6 c2"><span>anim.SetBool(</span><span class="c9">&quot;liuku&quot;</span><span>, </span><span class="c12">false</span><span class="c4">);</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[0].enabled = </span><span class="c10">true</span><span class="c4">;</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[1].enabled = </span><span class="c10">false</span><span class="c4">;</span></p><p class="c1 c3 c2"><span class="c4">}</span></p><p class="c1 c3 c2"><span class="c5 c11">//kun hahmo on hyp&auml;nnyt aivan yl&ouml;s, ja painovoima vet&auml;&auml;kin sit&auml; alasp&auml;in, laitetaan seuraava animaatio py&ouml;rim&auml;&auml;n.</span></p><p class="c1 c3 c2"><span class="c8">if </span><span class="c11">(GetComponent&lt;</span><span class="c12 c11">Rigidbody2D</span><span class="c4 c11">&gt;().velocity.y &lt; 0)</span></p><p class="c1 c3 c2"><span class="c4 c11">{</span></p><p class="c1 c3 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim.SetBool(</span><span class="c11 c9">&quot;hyppy&quot;</span><span class="c11">, </span><span class="c8">false</span><span class="c4 c11">);</span></p><p class="c1 c3 c2"><span class="c4 c11">}</span></p><p class="c1 c7 c3 c2"><span class="c4"></span></p><p class="c1 c2"><span class="c4">}</span></p><p class="c1 c2"><span class="c5">//T&auml;m&auml; tapahtuu joka frame, t&auml;h&auml;n kannattaa laittaa kaikki liikkuminen</span></p><p class="c1 c2"><span class="c10">void</span><span class="c4">&nbsp;FixedUpdate()</span></p><p class="c1 c2"><span class="c4">{</span></p><p class="c1 c3 c2"><span class="c5">//liikutetaan pelihahmoamme oikealle</span></p><p class="c1 c3 c2"><span>transform.position += </span><span class="c10">Vector3</span><span class="c4">.right * nopeus;</span></p><p class="c1 c3 c2"><span class="c5">//suurennetaan nopeus arvoa, ett&auml; pelihahmo nopeutuu pelin edetess&auml; koko ajan hieman</span></p><p class="c1 c3 c2"><span class="c4">nopeus += 0.0001f;</span></p><p class="c1 c3"><span class="c4">}</span></p><p class="c1 c3"><span class="c8">void</span><span class="c11">&nbsp;OnCollisionEnter2D(</span><span class="c8">Collision2D</span><span class="c4 c11">&nbsp;col)</span></p><p class="c1 c3"><span class="c4 c11">{</span></p><p class="c1 c3 c2"><span class="c8">RaycastHit2D</span><span class="c11">&nbsp;hit =</span><span class="c8">&nbsp;Physics2D</span><span class="c11">.Raycast(transform.position, </span><span class="c8">Vector2</span><span class="c4 c11">.down, 3, taso);</span></p><p class="c1 c3 c2"><span class="c8">if </span><span class="c11">(hit.transform != </span><span class="c8">null</span><span class="c4 c11">)</span></p><p class="c1 c3 c2"><span class="c4 c11">{</span></p><p class="c1 c6 c2"><span class="c11">anim.SetBool(</span><span class="c11 c9">&quot;maassa&quot;</span><span class="c11">, </span><span class="c8">true</span><span class="c4 c11">);</span></p><p class="c1 c6 c2"><span class="c11">hypitty = </span><span class="c8">true</span><span class="c4 c11">;</span></p><p class="c1 c3 c2"><span class="c4 c11">}</span></p><p class="c1 c3"><span class="c4 c11">}</span></p><p class="c1"><span>}</span></p></td></tr></tbody></table><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Teemme t&auml;ss&auml; taas paljon uutta, joten kirjoittakaa rauhassa, kaikki selitet&auml;&auml;n kyll&auml;. Luomme kaksi uutta muuttujaa, toinen on </span><span class="c0">Bool</span><span>&nbsp;jolla tarkistamme on pelaaja hyp&auml;nnyt vai ei, ja pidet&auml;&auml;n huoli ettei pelaaja voi hyp&auml;t&auml; kahdesti. Luomme my&ouml;s julkisen </span><span class="c0">LayerMask</span><span class="c4">&nbsp;muuttujan. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c0">LayerMask</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c0">LayerMask</span><span>&nbsp;on layer eli taso, ja toimii hieman samalla tavalla kuin layerit esimerkiksi kuvanmuokkaus ohjelmissa. Voimme laittaa objekteja eri layereille, ja ne toimivat hieman eri tavalla. T&auml;ss&auml; tarvitsemme sit&auml; </span><span class="c0">Raycast</span><span>:in takia. </span><span class="c0">Raycast</span><span class="c4">&nbsp;tarkistaa osuuko suora s&auml;de johonkin, kun se liikkuu paikasta A paikkaan B. Jos osuu, se ottaa sen tiedot muistiin. Voimme laittaa Raycastin osumaan vain tietyn Layerin objekteihin, jolloin se ei v&auml;lit&auml; muista kuin vain yhden layerin objekteista. Selit&auml;n miksi teemme n&auml;in my&ouml;hemmin.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Seuraavaksi k&auml;yt&auml;mme koodissa juuri luomaamme </span><span class="c0">hypitty</span><span class="c4">&nbsp;boolia hy&ouml;dyksi. Jos hypitty on totta, tarkoittaa se silloin sit&auml; ettei pelaaja ole viel&auml; hyp&auml;nnyt, eli h&auml;n voi joko menn&auml; nyt luisuun, tai hyp&auml;t&auml;. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Nyt jos pelaaja painaa ruudun yl&auml;osasta peliss&auml;, pelaaja hypp&auml;&auml;. Laitoimme aivan alkuun varmistuksen ett&auml; oikeat colliderit ovat k&auml;yt&ouml;ss&auml;. T&auml;m&auml;n j&auml;lkeen lis&auml;&auml;mme objektiin yl&ouml;smenev&auml;&auml; voimaa ett&auml; saamme hypyn tehty&auml;. Asetamme animaation </span><span class="c0">hyppy</span><span>&nbsp;boolin trueksi, ett&auml; animaatio menee nyt hyppyanimaatioon. Asetamme my&ouml;s animaation </span><span class="c0">maassa</span><span>&nbsp;boolin falseksi, ett&auml; silloin kun osumme maahan, oikea animaatio l&auml;htee py&ouml;rim&auml;&auml;n. Asetamme my&ouml;s </span><span class="c0">hypitty</span><span class="c4">&nbsp;booli falseksi, koska hypp&auml;simme juuri, emmek&auml; halua tuplahyppy&auml; peliin.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Seuraavaksi teemme tarkistuksen koodissa onko objektissa alasmenev&auml;&auml; voimaa, eli toisin sanoen liikkuuko objekti t&auml;ll&auml; hetkell&auml; alasp&auml;in painovoiman takia. Jos liikkuu, menn&auml;&auml;n seuraavaan animaatioon.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c16 c0">OnCollisionEnter2D</span></p><p class="c1 c7"><span class="c16 c0"></span></p><p class="c1"><span>Koska teemme 2D peli&auml;, ja k&auml;yt&auml;mme 2D fysiikoita, jotta saamme t&ouml;rm&auml;yksen tiedot, pit&auml;&auml; meid&auml;n k&auml;ytt&auml;&auml; my&ouml;s 2D methodeja. </span><span class="c0">OnCollisionEnter2D</span><span>&nbsp;toimii siis t&auml;ysin samalla tavalla kuin </span><span class="c0">OnCollisionEnter</span><span class="c4">&nbsp;edellisess&auml; peliss&auml;, mutta vain 2D-objekteilla ja komponenteilla.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Teemme siis samalla tavalla kuin edellisess&auml;kin peliss&auml;, ja tarkistamme </span><span class="c0">Physics.Raycast:</span><span>in avulla onko osuttu objekti pelaajan alapuolella, paitsi ett&auml; sekin on tietenkin </span><span class="c0">Physics2D.Raycast,</span><span class="c4">&nbsp;koska 2D peli. K&auml;yt&auml;mme t&auml;ss&auml; my&ouml;s juuri asettamaamme layeria, jotta osumme vain tietyll&auml; layerilla oleviin objekteihin. Jos objekti on pelaajan alla, py&ouml;ritt&auml;&auml; animaatio taas yhden osan, ja menee sitten juoksuanimaatioon.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Painetaan taas </span><span class="c0">CTRL+S</span><span>, ja palataan Unityyn. Valitaan maa objektimme (meill&auml; se on talo) </span><span class="c0">Hierarchysta </span><span>vasemmalla. Katsotaan sitten </span><span class="c0">Inspectoriin</span><span>&nbsp;oikealle yl&auml;kulmaan. Siell&auml; on </span><span class="c0">Layer </span><span>kohta, jonka arvo on </span><span class="c0">default</span><span>. Painetaan </span><span class="c0">defaultista,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c0">&nbsp;</span><span>ja valitaan alin vaihtoehto joka on </span><span class="c0">Add Layer&hellip;</span><span class="c4">. T&auml;m&auml; vie t&auml;m&auml;n n&auml;k&ouml;iseen n&auml;kym&auml;&auml;n:</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 169.33px;"><img alt="" src="unity2/images/image2.gif" style="width: 601.70px; height: 169.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 557.00px; height: 723.00px;"><img alt="" src="unity2/images/image29.png" style="width: 557.00px; height: 723.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>T&auml;&auml;ll&auml; on noin 7 layeria varattuna Unitylle itselleen, joten luodaan oma Layeri 8 kohtaan. Painetaan tyhj&auml;st&auml; laatikosta 8 vieress&auml;, ja kirjoitetaan siihen </span><span class="c0">maa</span><span class="c4">&nbsp;. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 552.00px; height: 719.00px;"><img alt="" src="unity2/images/image25.png" style="width: 552.00px; height: 719.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Valitaan </span><span class="c0">talo</span><span>&nbsp;taas </span><span class="c0">Hierarchysta,</span><span>&nbsp;valitaan taas </span><span class="c0">Layer </span><span>kohdan </span><span class="c0">default,</span><span>&nbsp;ja t&auml;ll&auml; kertaa siell&auml; on uusi valinta nimelt&auml;&auml;n </span><span class="c0">maa. </span><span>Painetaan siit&auml;, niin talon Layeriksi muuttuu </span><span class="c0">maa. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 169.33px;"><img alt="" src="unity2/images/image28.gif" style="width: 601.70px; height: 169.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Valitaan nyt pelaaja hahmomme, ja katsotaan </span><span class="c0">Inspector</span><span class="c4">-n&auml;kym&auml;&auml;n. Siell&auml; pit&auml;isi olla scriptimme tiedot jossakin. Sen pit&auml;isi t&auml;ll&auml; hetkell&auml; n&auml;ytt&auml;&auml; t&auml;lt&auml;:</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 547.00px; height: 65.00px;"><img alt="" src="unity2/images/image31.png" style="width: 547.00px; height: 65.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Siell&auml; on public muuttujamme, joka oli nimelt&auml;&auml;n taso, sek&auml; sen vieress&auml; lukee </span><span class="c0">Nothing.</span><span>&nbsp;Painetaan </span><span class="c0">Nothing</span><span>&nbsp;kohdasta, ja valitaan siihen juuri luomamme Layer, eli </span><span class="c0">maa</span><span class="c4">. Nyt jos kokeilemme peli&auml;, pelaajan pit&auml;isi toimia t&auml;ydellisesti!</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Meill&auml; on kuitenkin viel&auml; ongelma. Talomme loppuu eritt&auml;in nopeasti, eik&auml; pelaajalla ole mit&auml;&auml;n mihin juosta! T&auml;m&auml; korjataan koodissa! Eli palataan taas scriptiin, ja tehd&auml;&auml;n n&auml;m&auml; muutokset:</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1 c7"><span class="c4"></span></p><a id="t.6fb86b69726837d12e0c2f4f1c069cb6caa3ba60"></a><a id="t.4"></a><table class="c19"><tbody><tr class="c18"><td class="c13" colspan="1" rowspan="1"><p class="c1"><span class="c5">//N&auml;m&auml; 3 rivi&auml; ovat koodissa jo valmiina</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;System.Collections;</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;System.Collections.Generic;</span></p><p class="c1"><span class="c12">using</span><span class="c4">&nbsp;UnityEngine;</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c5">//T&auml;m&auml;kin on koodissasi jo valmiina, ja &quot;liike&quot; sanan tilalla pit&auml;isi olla scriptisi nimi. Jos ei ole, niin kirjoita se siihen.</span></p><p class="c1"><span class="c10">public class</span><span>&nbsp;</span><span class="c20">liike</span><span>&nbsp;: </span><span class="c20">MonoBehaviour</span><span class="c4">&nbsp;{</span></p><p class="c1 c2"><span class="c5">//luodaan t&auml;m&auml;n j&auml;lkeen kaikki muuttujat</span></p><p class="c1 c2"><span class="c10">float</span><span class="c4">&nbsp;nopeus = 0.01f;</span></p><p class="c1 c2"><span class="c10">Animator</span><span class="c4">&nbsp;anim;</span></p><p class="c1 c2"><span class="c5">//T&auml;m&auml; on hieman erillainen muuttuja kuin muut, koska siin&auml; on [] muuttujan tyypin per&auml;ss&auml;. Mit&auml; t&auml;m&auml; tarkoittaa selitet&auml;&auml;n alempana, sek&auml; c# materiaaleissa kohdassa Array.</span></p><p class="c1 c2"><span class="c10">BoxCollider2D[]</span><span class="c4">&nbsp;colliderit;</span></p><p class="c1 c2"><span class="c10">bool</span><span>&nbsp;hypitty = </span><span class="c12">true</span><span class="c4">;</span></p><p class="c1 c2"><span class="c10">public</span><span>&nbsp;</span><span class="c10">LayerMask</span><span class="c4">&nbsp;taso;</span></p><p class="c1 c2"><span class="c8">public GameObject</span><span class="c4 c11">&nbsp;maa;</span></p><p class="c1 c2"><span class="c8">float</span><span class="c4 c11">&nbsp;leveys;</span></p><p class="c1 c2"><span class="c5 c11">//T&auml;m&auml; on taas hieman erilainen muuttuja kuin muut. T&auml;m&auml; toimii hieman samalla tavalla kuin aijemmin k&auml;ytetty Array.</span></p><p class="c1 c2"><span class="c8">List</span><span class="c11">&lt;</span><span class="c8">GameObject</span><span class="c11">&gt; maat=</span><span class="c8">new</span><span class="c11">&nbsp;</span><span class="c8">List</span><span class="c11">&lt;</span><span class="c8">GameObject</span><span class="c4 c11">&gt;();</span></p><p class="c1 c7 c2"><span class="c4"></span></p><p class="c1 c2"><span class="c10">void</span><span class="c4">&nbsp;Start(){</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Annetaan muuttujalle arvoksi objektin oma komponentti, jolloin meid&auml;n ei joka kerta tarvitse kirjoittaa GetComponent&lt;Animator&gt;() jos haluamme p&auml;&auml;st&auml; k&auml;siksi siihen.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim=GetComponent&lt;</span><span class="c10">Animator</span><span class="c4">&gt;();</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Annetaan muuttujalle arvoksi objektin kaikki BoxCollider2D komponentit. Huomaa, ett&auml; se on GetComponents, eli S-kirjain per&auml;&auml;n.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit=GetComponents&lt;</span><span class="c10">BoxCollider2D</span><span class="c4">&gt;();</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Asetetaan j&auml;lkimm&auml;inen box collider, eli se joka tulee luisuun, pois p&auml;&auml;lt&auml; ettei se t&ouml;rm&auml;&auml; mihk&auml;&auml;n silloin kun hahmomme juoksuu pystyss&auml;.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[1].enabled=</span><span class="c10">false</span><span class="c4">;</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//Otamme maa objektistamme componentin Renderer, joka siis tiet&auml;&auml; milt&auml; objekti n&auml;ytt&auml;&auml;, ja otamme muistiin objektin leveyden.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c11">leveys=maa.GetComponent&lt;</span><span class="c8">Renderer</span><span class="c4 c11">&gt;().bounds.extents.x * 2;</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//Pystymme lis&auml;&auml;m&auml;&auml;n list muuttujaan haluamiamme muuttujia, joten ker&auml;&auml;mme siihen kaikki maaobjektit joita teemme</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c4 c11">maat.Add(maa);</span></p><p class="c1"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//T&auml;m&auml; saattaa n&auml;ytt&auml;&auml; oudolta, mutta ei h&auml;t&auml;&auml;, se toimii v&auml;h&auml;n samoin kuin while. for sulkeiden sis&auml;ll&auml; luomme int muuttujan nimelt&auml; i, annamme sille arvon nolla, ja niin kauan kun i on pienempi kuin 3, tehd&auml;&auml;n mit&auml; aaltosulkeiden sis&auml;ll&auml; on. Aina kun aaltosulkeet k&auml;yd&auml;&auml;n l&auml;pi, i lis&auml;&auml;ntyy yhdell&auml;, eli peli tekee aaltosulkeet 3 kertaa. Lis&auml;&auml; t&auml;st&auml; l&ouml;yd&auml;t c# materiaaleista.</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c8">for</span><span class="c11">(</span><span class="c8">int</span><span class="c4 c11">&nbsp;i=0; i&lt;3; i++){</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//Instantiate, eli kopioimme peliobjektin, ja lis&auml;&auml;mme sen listaamme.</span></p><p class="c1 c2"><span class="c4 c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maat.Add(Instantiate(maat[0]));</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c17 c11">//T&auml;ss&auml; annamme sille uuden kohdan johon menn&auml;. K&auml;yt&auml;mme t&auml;ss&auml; </span><span class="c0 c17 c11">Random.Range</span><span class="c5 c11">&nbsp;methodia, joka toimii samalla tavalla kuin random c# materiaaleissa.</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maat[maat.Count-1].transform.position=maat[maat.Count - 2].transform.position + new Vector3(leveys+</span><span class="c12 c11">Random</span><span class="c11">.Range(0,4f), </span><span class="c12 c11">Random</span><span class="c4 c11">.Range(-4f, 4f), 0);</span></p><p class="c1 c3 c2"><span class="c4 c11">}</span></p><p class="c1 c2"><span class="c4">}</span></p><p class="c1 c7 c2"><span class="c4"></span></p><p class="c1 c2"><span class="c5">//T&auml;m&auml; tapahtuu tasan joka frame, t&auml;h&auml;n kannattaa laittaa pelaajan nappien painallukset</span></p><p class="c1 c2"><span class="c10">void</span><span class="c4">&nbsp;Update(){</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//Tarkistamme onko viimeinen maapl&auml;ntti tarpeeksi kaukana ett&auml; sen voisi poistaa.</span></p><p class="c1 c3 c2"><span class="c8">if</span><span class="c4 c11">&nbsp;(maat[0].transform.position.x &lt; transform.position.x - leveys)</span></p><p class="c1 c2"><span class="c4 c11">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c1 c2"><span class="c11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c11">//Tuhotaan se!</span></p><p class="c1 c6 c2"><span class="c4 c11">Destroy(maat[0]);</span></p><p class="c1 c6 c2"><span class="c5 c11">//Poistetaan se</span></p><p class="c1 c6 c2"><span class="c4 c11">maat.RemoveAt(0);</span></p><p class="c1 c6 c2"><span class="c5 c11">//Luodaan sen tuhkista uusi maaaa!</span></p><p class="c1 c6 c2"><span class="c4 c11">maat.Add(Instantiate(maat[0]));</span></p><p class="c1 c6 c2"><span class="c5 c11">//ja annetaan sille uusi paikka el&auml;m&auml;ss&auml;!</span></p><p class="c1 c6 c2"><span class="c11">maat[maat.Count - 1].transform.position = maat[maat.Count - 2].transform.position + new Vector3(leveys+</span><span class="c8">Random</span><span class="c11">.Range(0,4f), </span><span class="c8">Random</span><span class="c4 c11">.Range(-4f, 4f), 0);</span></p><p class="c1 c3 c2"><span class="c4 c11">}</span></p><p class="c1 c3 c2"><span class="c5">//jos painetaan hiiren vasenta, tai kosketetaan k&auml;nnyk&auml;n n&auml;ytt&ouml;&auml;, niin p&auml;&auml;st&auml;&auml;n aaltosulkeiden sis&auml;&auml;n.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">if</span><span>(</span><span class="c12">Input</span><span>.GetMouseButton(0) || </span><span class="c12">Input</span><span class="c4">.touchCount &gt; 0){</span></p><p class="c1 c6 c2"><span class="c5">//Luodaan uusi Vector3, johon tallennamme mihin kohtaan peli&auml; pelaaja painoi</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">Vector3 </span><span class="c4">kohta;</span></p><p class="c1 c6 c2"><span class="c5">//Jos pelaaja pelaakin k&auml;nnyk&auml;ll&auml;, saadaan t&auml;st&auml; pelaajan kosketuksen kohta</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">if</span><span>(</span><span class="c12">Input</span><span class="c4">.touchCount&gt;0){</span></p><p class="c1 c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kohta=Input.touches[0].position;</span></p><p class="c1 c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c6 c2"><span class="c5">//Jos pelaaja ei pelaakkaan k&auml;nnyk&auml;ll&auml;, pelaa h&auml;n tietokoneella, joten otetaankin hiiren kursorin kohta</span></p><p class="c1 c6 c2"><span class="c10">else</span><span class="c4">{</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kohta=</span><span class="c12">Input</span><span class="c4">.mousePosition;</span></p><p class="c1 c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Jos pelaaja painaa ruudun alapuolelle, laitetaan pelihahmo liukumaan.</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">if </span><span>(kohta.y &lt; </span><span class="c12">Screen</span><span class="c4">.height / 2&amp;&amp;hypitty)</span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//M&auml;&auml;ritell&auml;&auml;n ett&auml; Animator-komponenttiin luomamme bool-muuttujan arvo on True</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim.SetBool(</span><span class="c9">&quot;liuku&quot;</span><span>,</span><span class="c12">&nbsp;true</span><span class="c4">);</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Asetetaan pystyss&auml; oleva collider pois p&auml;&auml;lt&auml;, ja kumossa oleva collider p&auml;&auml;lle, jolloin tulee vaikutelma ett&auml; hitbox muuttuu hahmon mukana</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[0].enabled = </span><span class="c10">false</span><span class="c4">;</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[1].enabled = </span><span class="c10">true</span><span class="c4">;</span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//jos kohta on ruudun yl&auml;puolella, laitetaan pelaaja hypp&auml;&auml;m&auml;&auml;n</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c10">else if</span><span>&nbsp;(kohta.y &gt; </span><span class="c12">Screen</span><span class="c4">.height / 2&amp;&amp;hypitty)</span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//N&auml;m&auml; 3 rivi&auml; ovat samat kuin elsess&auml; hieman my&ouml;hemmin. Syy miksi ne ovat my&ouml;s t&auml;ss&auml; on siksi, koska muuten pelaaja voisi glitchata pelin ja hyp&auml;t&auml;, vaikka h&auml;n onkin viel&auml; liukumassa. Nyt peli ei glitchaannu.</span></p><p class="c1 c6 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim.SetBool(</span><span class="c9">&quot;liuku&quot;</span><span>, </span><span class="c12">false</span><span class="c4">);</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[0].enabled = </span><span class="c10">true</span><span class="c4">;</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[1].enabled = </span><span class="c10 c14">false;</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Lis&auml;t&auml;&auml;n rigidbodyyn yl&ouml;smenev&auml;&auml; voimaa hypyn saamiseksi </span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c17">GetComponent&lt;</span><span class="c10">Rigidbody2D</span><span class="c17">&gt;().velocity = </span><span class="c10">Vector3</span><span class="c5">.up * 10;</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//Asetetaan hyppy bool oikein ett&auml; hyppy animaatio l&auml;htee py&ouml;rim&auml;&auml;n, sek&auml; hypitty bool v&auml;&auml;r&auml;ksi ettei ilmassa voi yht&auml;kki&auml; hyp&auml;t&auml; uudestaan. Asetetaan my&ouml;s maassa bool v&auml;&auml;rin, ett&auml; tied&auml;mme milloin osumme maahan ja l&auml;htee oikea animaatio py&ouml;rim&auml;&auml;n.</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim.SetBool(</span><span class="c9">&quot;hyppy&quot;</span><span>,</span><span class="c10">true</span><span class="c4">);</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hypitty=</span><span class="c10">false</span><span class="c4">;</span></p><p class="c1 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim.SetBool(</span><span class="c9">&quot;maassa&quot;</span><span>,</span><span class="c10">false</span><span class="c4">);</span></p><p class="c1 c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c1 c3 c2"><span class="c4">}</span></p><p class="c1 c3 c2"><span class="c14 c10">else</span></p><p class="c1 c3 c2"><span class="c4">{</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">//M&auml;&auml;ritell&auml;&auml;n ett&auml; Animator-komponenttiin luomamme bool-muuttujan arvo on False</span></p><p class="c1 c6 c2"><span>anim.SetBool(</span><span class="c9">&quot;liuku&quot;</span><span>, </span><span class="c12">false</span><span class="c4">);</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[0].enabled = </span><span class="c10">true</span><span class="c4">;</span></p><p class="c1 c2"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colliderit[1].enabled = </span><span class="c10">false</span><span class="c4">;</span></p><p class="c1 c3 c2"><span class="c4">}</span></p><p class="c1 c3 c2"><span class="c5">//kun hahmo on hyp&auml;nnyt aivan yl&ouml;s, ja painovoima vet&auml;&auml;kin sit&auml; alasp&auml;in, laitetaan seuraava animaatio py&ouml;rim&auml;&auml;n.</span></p><p class="c1 c3 c2"><span class="c10">if </span><span>(GetComponent&lt;</span><span class="c12">Rigidbody2D</span><span class="c4">&gt;().velocity.y &lt; 0)</span></p><p class="c1 c3 c2"><span class="c4">{</span></p><p class="c1 c3 c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anim.SetBool(</span><span class="c9">&quot;hyppy&quot;</span><span>, </span><span class="c10">false</span><span class="c4">);</span></p><p class="c1 c3 c2"><span class="c4">}</span></p><p class="c1 c7 c3 c2"><span class="c4"></span></p><p class="c1 c2"><span class="c4">}</span></p><p class="c1 c2"><span class="c5">//T&auml;m&auml; tapahtuu joka frame, t&auml;h&auml;n kannattaa laittaa kaikki liikkuminen</span></p><p class="c1 c2"><span class="c10">void</span><span class="c4">&nbsp;FixedUpdate()</span></p><p class="c1 c2"><span class="c4">{</span></p><p class="c1 c3 c2"><span class="c5">//liikutetaan pelihahmoamme oikealle</span></p><p class="c1 c3 c2"><span>transform.position += </span><span class="c10">Vector3</span><span class="c4">.right * nopeus;</span></p><p class="c1 c3 c2"><span class="c5">//suurennetaan nopeus arvoa, ett&auml; pelihahmo nopeutuu pelin edetess&auml; koko ajan hieman</span></p><p class="c1 c3 c2"><span class="c4">nopeus += 0.0001f;</span></p><p class="c1 c3"><span class="c4">}</span></p><p class="c1 c3"><span class="c10">void</span><span>&nbsp;OnCollisionEnter2D(</span><span class="c10">Collision2D</span><span class="c4">&nbsp;col)</span></p><p class="c1 c3"><span class="c4">{</span></p><p class="c1 c3 c2"><span class="c10">RaycastHit2D</span><span>&nbsp;hit =</span><span class="c10">&nbsp;Physics2D</span><span>.Raycast(transform.position, </span><span class="c10">Vector2</span><span class="c4">.down, 3, taso);</span></p><p class="c1 c3 c2"><span class="c10">if </span><span>(hit.transform != </span><span class="c10">null</span><span class="c4">)</span></p><p class="c1 c3 c2"><span class="c4">{</span></p><p class="c1 c6 c2"><span>anim.SetBool(</span><span class="c9">&quot;maassa&quot;</span><span>, </span><span class="c10">true</span><span class="c4">);</span></p><p class="c1 c6 c2"><span>hypitty = </span><span class="c10">true</span><span class="c4">;</span></p><p class="c1 c3 c2"><span class="c4">}</span></p><p class="c1 c3"><span class="c4">}</span></p><p class="c1"><span>}</span></p></td></tr></tbody></table><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Taas on paljon uutta, joten k&auml;yd&auml;&auml;n vaih vaiheelta l&auml;pi mit&auml; t&auml;ss&auml; teemme.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Luomme aluksi </span><span class="c0">public GameObject maat</span><span>, jonka arvon asetamme Unityss&auml; itsess&auml;&auml;n. T&auml;m&auml;n j&auml;lkeen luomme </span><span class="c0">float</span><span>&nbsp;muuttujan </span><span class="c0">leveys,</span><span>&nbsp;joka saa </span><span class="c0">Start</span><span>-methodissa arvokseen objektin leveyden. T&auml;m&auml;n j&auml;lkeen luomme uuden laisen muuttujan nimelt&auml;&auml;n </span><span class="c0">List</span><span class="c4">.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c0">List</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c0">List</span><span class="c4">&nbsp;toimii hieman samalla tavoin kuin Arraykin, eli se on siis lista tietyn tyyppisi&auml; muuttujia, joita voimme k&auml;ytt&auml;&auml; haluamallamme tavalla. List eroaa Arraysta siten, ett&auml; voimme helposti poistaa ja lis&auml;t&auml; muuttujia kokonaan, ja Listin koko muuttuu koko ajan, kun taas Arrayn koko pysyy koko ajan yht&auml;suurena, eik&auml; sielt&auml; voi juuri poistaa arvoja, voit vain muuttaa niit&auml;.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c0">Start</span><span>-methodissa asetamme </span><span class="c0">leveys</span><span>-muuttujaan objektin leveyden jonka saamme objektista itsest&auml;&auml;n. Lis&auml;&auml;mme listaamme </span><span class="c0">maa</span><span class="c4">-gameobjektin. T&auml;m&auml;n j&auml;lkeen k&auml;yt&auml;mme for-lauseketta hy&ouml;dyksemme.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c0">for</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c0">For</span><span class="c4">&nbsp;on yleinen ohjelmoinnissa k&auml;ytett&auml;v&auml; toistolauseke, joka toimii hieman samalla tavalla kuin while. Forissa luomme sen sulkeiden sis&auml;ll&auml; jonkin muuttujan kuten int, ja annamme sille alkuarvon, sen j&auml;lkeen laitamme vertauksen, ja niin kauan kun t&auml;m&auml; vertaus on totta, toistaa for-lauseke aaltosulkeittensa sis&auml;ll&auml; olevaa koodia. Vertauksen j&auml;lkeen voimme laittaa suureneeko vai pieneneek&ouml; luomamme muuttuja. T&auml;m&auml; on parempi kuin while, koska se j&auml;&auml; harvemmin looppiin mihink&auml;&auml;n, ja kaiken saa tehty&auml; helposti yhdell&auml; rivill&auml;.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>forin aaltosulkeiden sis&auml;ll&auml; luomme lis&auml;&auml; maa-objekteja jotka lis&auml;&auml;mme listaan. Kun asetamme niille uutta paikkaa k&auml;yt&auml;mme </span><span class="c0">Random.Range()</span><span class="c4">-methodia.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c16 c0">Random.Range()</span></p><p class="c1 c7"><span class="c16 c0"></span></p><p class="c1"><span class="c0">Random.Range()</span><span>&nbsp;toimii samalla tavalla kuin c# k&auml;ytt&auml;m&auml;mme </span><span class="c0">Random</span><span class="c4">-muuttuja, eli laitamme sulkeiden sis&auml;&auml;n ensin pienemm&auml;n luvun, ja sen j&auml;lkeen suuremman luvun, joiden v&auml;lilt&auml; luku arvotaan satunnaisesti. </span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Saamme t&auml;m&auml;n avulla hieman haastetta peliin, kun platformit ovat korkeammalla tai matalammalla, sek&auml; hieman erill&auml;&auml;n toisistaan.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>T&auml;m&auml;n j&auml;lkeen menemme </span><span class="c0">Update-</span><span class="c4">methodiin. T&auml;&auml;ll&auml; tarkistamme onko maa pl&auml;ntti v&auml;hint&auml;&auml;n yhden maapl&auml;ntin leveyden verran kaukana pelihahmostamme, ja jos on, niin silloin se ei ole en&auml;&auml; edes n&auml;kyviss&auml; ja voimme poistaa sen.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Aluksi siis tuhoamme objektin </span><span class="c0">Destroy()</span><span class="c4">&nbsp;methodilla.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>T&auml;m&auml;n j&auml;lkeen poistamme sen listastamme k&auml;ytt&auml;m&auml;ll&auml; </span><span class="c16 c0">RemoveAt(). </span></p><p class="c1 c7"><span class="c16 c0"></span></p><p class="c1"><span class="c4">T&auml;m&auml;n j&auml;lkeen kopioimme uuden maapl&auml;ntin itsellemme, ja lis&auml;&auml;mme sen samantien listaan.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Sitten asetamme sille uuden kohdan samalla tavalla kuin aijemminkin.</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">N&auml;in saamme luotua ns. loputtoman pelin, jossa maapl&auml;nttej&auml; tulee koko ajan lis&auml;&auml;, vaikka jatkaisimme pelin pelaamista ikuisuuden. Nyt on tosin se ongelma, ett&auml; jos vahingossa tipumme, niin emme kuitenkaan kuole&hellip; Muistatteko miten t&auml;m&auml; korjattiin edellisess&auml; peliss&auml;?</span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span>Vinkki: k&auml;ytimme siihen </span><span class="c0">tag</span><span>eja sek&auml; </span><span class="c0">OnCollisionEnter</span><span>-methodia.</span></p><p class="c1 c7"><span class="c21"></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1 c7"><span class="c4"></span></p><p class="c1"><span class="c4">Noin! nyt olemme luoneet 2D Infinite Scroller pelin, jossa on animaatiot ja joka jatkuu loputtomiin. Se vaikuttaa kuitenkin hieman tyls&auml;lt&auml;&hellip; Mutta vo</span></p>

<br><br><br>
<div class="logo-container">
  <div class="logo-image">
    <img src="logos/liiveri.jpg" />
  </div>
  <div class="logo-image">
    <img src="logos/eakr.jpg" />
  </div>
  <div class="logo-image">
    <img src="logos/leader.jpg" />
  </div>
  <p>T√§m√§ materiaali on tuotettu Euroopan maaseudun kehitt√§misen maatalousrahaston tuella</p>
</div>
</body></html>
